diegop | 2021-12-02 19:43:44 UTC | #1

# Introduction and Vision

The Internet Computer (IC) is formed by standardized “node machines” from independent owners and installed within independent Data Centers (DCs). Compared with other blockchains, the IC has stronger requirements on the homogeneity of the nodes due to the fact that most of the node resources are dedicated to perform useful work (e.g. executing smart contracts, participating in threshold cryptography) that needs to be performed by all nodes of a given subnet blockchain. 

The IC is designed to host mass market applications completely on chain. Thus the state of canister smart contracts on the IC can be much larger than on other blockchains. The nodes also need significant network capacity for managing and synchronizing that state. To meet the requirements of extremely high availability and high throughput, the IC nodes are hosted in DCs. To achieve decentralization, the nodes are owned and the DCs are operated by independent parties. Moreover, the DCs are spread across the globe. Due to this need for homogeneity and capacity, the Internet Computer Association (ICA) publishes specifications for hardware of IC nodes as well as the service levels of DCs.

The IC is designed for anyone to be able to become a node provider (NP). The governance system of the IC, the Network Nervous System (NNS), scales the IC’s capacity by adding more nodes. The requirement of additional nodes depends on the desired capacity (and location requirements) of the IC at a given point in time. The governance system is designed to remove nodes that provide sub-par performance, it is thereby recommended to follow the specifications published by the ICA. The IC constantly scales out its compute capacity by adding new nodes to the network such that it never runs out of capacity. 

The network is expected to grow to millions of nodes running from thousands of DCs in the coming years. As decentralization is key to the mission of the IC, many new, independent node providers will be needed to support that growth.

## The Network Nervous System (NNS)

The NNS is the on-chain governance system of the IC. [Holders of the Internet Computer’s ICP utility tokens can stake their ICP tokens in neurons to participate in governance and contribute to decision-making, such as voting to determine whether or not a new collection of nodes (also called a subnet) should be added to the network](https://medium.com/dfinity/the-network-nervous-system-governing-the-internet-computer-1d176605d66a). It has many functions, but the most relevant ones to node decentralization are:

* Maximize the decentralization of the node providership and control.
* Determine the number of nodes required to match the IC’s compute/storage demand while keeping the inflation in check (not minting too much ICP to pay for node provider rewards).
* Set the cost of compute and storage operations for developers.
* Remove faulty or slow nodes from the IC.
* Upgrade the replica software running in the network.

## How to become a node provider

Here are the envisioned steps to become a node provider for the IC:

* Using the NNS frontend dapp, everybody can register to become a node provider. Registrations are approved by means of NNS proposals, voted on by the IC community.
* The ICA publishes hardware specifications for nodes. Node providers can order machines fulfilling these specifications from different hardware vendors.
* Node providers propose new data centers using the NNS frontend dapp. The NNS approves data center proposals depending on how they further improve the decentralization of the IC. For example, data centers in underrepresented geographical locations are preferred over those in locations with many existing nodes.
* Data center operators deploy node machines independently, using the opensourced node software and configuration data retrieved through the NNS frontend dapp.
* The remuneration for running a node starts as soon as the node has joined a subnet.

## Responsibilities of node providers

A node provider performs the following operations:

* Make proposals to become a node provider and to add new data centers.
* Purchase nodes that satisfy the ICA hardware specifications
* Rack and stack the node hardware and install the node software. This work may be outsourced to a 3rd party
* Ensure a guaranteed uptime of the nodes

## How the NNS manages inflation and deflation

Canister smart contracts running on the Internet Computer blockchain are fueled by “cycles” which in turn are generated by burning ICP thereby causing deflation. As the number of smart contracts on the Internet Computer grows, so does the need for adding additional nodes.

Each node receives a flat monthly reward calculated in fiat and paid in the form of ICP tokens. This model ensures that the cost that the network bears for running a node is always constant in fiat terms. By keeping a predictable cost the network is able to ensure that the developers pay a flat fee for each operation on the Internet Computer independent of the volatility of ICP. The reward varies slightly based on the geographical location of the node to ensure the IC is able to achieve a wider geographical distribution of nodes. Each node provider continues to receive rewards as long as they guarantee the right quality of service. The rewards are paid by minting new ICP tokens, causing inflation.

The NNS has an algorithmic way to react to the demand & supply needs of the IC to keep the community-desired inflation-deflation range in check. The community updates or interacts with the algorithm via NNS proposals.

# Glossary

* A node is the hardware that hosts and runs an instance of the IC software stack, known as the “replica.” In other blockchains, this may be referred to as a “client”.
* A node provider (NP) is a person or entity that owns nodes that are part of the IC. Each node provider can host nodes in different data centers, possibly in different countries. You can see examples of owners here: [https://dashboard.internetcomputer.org/owners](https://dashboard.internetcomputer.org/providers)
In the NNS, node providers are referenced by a principal. A Principal corresponds to the person or entity who receives the rewards stemming from node participation. An example of a Principal is: [7k7b7-4pzhf-aivy6-y654t-uqyup-2auiz-ew2cm-4qkl4-nsl4v-bul5k-5qe](https://dashboard.internetcomputer.org/provider/7k7b7-4pzhf-aivy6-y654t-uqyup-2auiz-ew2cm-4qkl4-nsl4v-bul5k-5qe).
* A data center (DC) is a physical location at which nodes reside. [Everyware AG, Zurich](https://www.everyware.ch/#anker3) is an example of a data center where IC nodes reside.
* A DC operator (DCOP) is a person or entity responsible for installing and maintaining nodes within a DC. If the NP owns nodes in multiple DCs, multiple DCOPs may be working for the NP. A NP can also act as a DCOP or outsource the DCOP work to a third party.

# The state of the IC since Genesis

Above, we describe the vision for the onboarding of new node providers. In the following, we describe the status of the onboarding process. In the next section, we then provide a roadmap leading from the current to the envisioned state.

Prior to the Genesis of the network, the DFINITY foundation worked to build a baseline reserve capacity for the initial subnets. At Genesis, the IC was composed of 130 nodes.

Immediately after Genesis, the NNS ingested a substantial number of nodes to create a baseline of capacity. As of November 2021, the IC is composed of 451 nodes, some of which are spare capacity that is added continuously to the IC and a few are ready to be used in case of incidents.

Nodes are paid in ICP minted by the NNS as described in the vision.

The IC experienced a strong interest from node providers ahead of the network’s launch in May 2021. In anticipation of the new onboarding process and to avoid very long waiting times, the ICA paused further onboarding in Summer 2021. As of November 2021, there is a backlog of 890 nodes waiting to join the IC. These nodes are owned by node providers who have already been onboarded. This backlog guarantees a steady growth of the network while the onboarding process is further improved and finally opened to future node providers.

## Current blockers for anyone to contribute nodes to the IC

The following blockers must be addressed before the IC’s network growth can be further accelerated:

* (A) Reproducible builds: The community, including node providers, shall be able to build the replica software in a deterministic manner. This enables the community to verify that IC update proposals indeed correspond to the source code version specified in the NNS proposal.
* (B) Autonomous node deployment and operation: Empower node providers to install and maintain nodes without any support from the ICA.
* (C) Independent node provider registration: New node providers shall be able to register directly in the NNS frontend dapp.They will be able to submit a proposal to become a new node provider, without the support of the ICA.
* (D) NNS-driven DC allocation: Node providers can participate in NNS-controlled mechanism to elect new data centers. This process shall incentivise the addition of new DCs that further decentralize the IC’s network. Furthermore, it balances inflationary and deflationary forces.
* (E) Availability of node hardware: A new generation of ICA-specified node hardware is planned that shall guarantee global availability and provide a better choice between hardware providers. Furthermore, the next generation shall include the SEV-SNP technology to further improve the security of nodes.

# Roadmap

The DFINITY Foundation is currently working together with the community and existing node providers to remove the blockers described above. We estimate to complete this process in Q3 2022 with visible progress during intermediate quarters. Based on community feedback or technical obstacles that we might encounter, the plan might be adjusted.

### Q4 2021

* (A) Reproducible builds: Reproducible replica software builds are planned to be available to the public in November 2021. This initiative has its own separate communication because it touches many parts.

### Q1 2022

* (B) Autonomous node deployment and operation: In early 2022, a new deployment process will be introduced based on the reproducible builds (A). Over the subsequent weeks, existing node providers will be asked to update their deployments using the new process.
* (C) Independent node provider registration: In early 2022, future node providers will be able to register via the NNS frontend dapp. In parallel with the onboarding of the currently backlogged nodes, a limited number of new DCs and nodes will be added to the network using the new deployment method (B).
* In order to get started with autonomous node deployments (B) before the NNS-driven DC allocation is in place (D), a small set of new node providers will be onboarded using (C).

### Q2/Q3 2022

* (D) NNS-driven DC allocation: The NNS-controlled DC allocation mechanism will be introduced and control all future node additions. With this step and a new node hardware, see (F), an accelerated network growth is unleashed.
* (E) Availability of node hardware: Different hardware options are currently being investigated. This blocker might be overcome in two steps
  1. Minor extensions to the Genesis hardware setup to overcome current availability limitations.
  2. Larger extensions that incorporate additional hardware technologies such as SEV-SNP.

From now on, updates to this timeline will be updated via technical blog, developer forums, and other social platforms.

-------------------------

diegop | 2021-11-29 17:45:06 UTC | #2

![Screen Shot 2021-11-29 at 9.43.42 AM|690x387](upload://3gzFvKTevjYk7mCLlM29eqW09AY.png)

-------------------------

diegop | 2021-12-08 09:33:21 UTC | #3

The main folks involved are  @Luis, @samuelburri, @yvonneanne among others.

-------------------------

lastmjs | 2021-11-29 19:18:33 UTC | #4

This is amazing, but somewhat terrifying. What's been nice so far is that as a community we haven't had to vet node operators ourselves. I have been assuming that the ICA/DFINITY has been working very very closely to ensure a trustworthy set of initial node operators.

At the end of this process, the flood gates will open and the community will be in charge of ensuring node operators are honest. Because incentives are much more different on the IC than on Bitcoin or Ethereum, I'm concerned with how well they will work.

How will we ensure that node operators are incentivized to be honest? And how will we verify their honesty?

Is there any type of staking?

Can we force secure enclave attestations of the replica, combining it with consensus, so that we can verify the replica has not been modified?

Should we look into more automatic ways of compensating node operators? A fixed fee determined by vote seems much more subject to manipulation than a fee model that pays node operators in cycles, in addition to burning cycles.

I just want us to set ourselves up very well for a much more permissionless system, and I'm not sure we're there yet.

-------------------------

mparikh | 2021-11-29 20:46:12 UTC | #5

@mompo @samuelburri @yvonneanne @diegop 

Exciting times to be sure. A couple of high level questions:

Q1. Would testnet/s be also under the same purview? 

Q2. How would the concept of partial node ownership (i.e. dfinitynodes) be blended in into the node provisioning? 

-- the specific question is that would dfinitynodes be treated like any other node provider...so others who want provide similar capability like dfinitynode would need to roll their dao? Obviously dfinitynodes would use their dao to gain an competitive advantage; unless that dao is open sourced.

-------------------------

diegop | 2021-11-29 22:17:52 UTC | #6

Very good questions, Jordan.

The simple truth is that this is the high-level vision, many nitty-gritty details need to be worked out together with the community to make it a reality. The original version of this post was 5x longer, but we opted for simplicity and more dialogue rather than producing tomes, so I am not surprised there are questions.

We have been considering these issues, haven't written much about them yet (will be tackled in different motion proposals we are working on).
 
## What I consider to be more baked:

* Locking some amount of ICP is one of the mechanisms we're considering to incentivize node providers, and the hardware is actually of non-negligible cost, so you can view this as staking as well.
* We are working on Trusted execution enhanced nodes, incl remote attestation, there will be a separate motion proposal on it (and update coming this week). See: https://forum.dfinity.org/t/amd-sev-virtual-machine-support/6156 and more coming soon.
 
## What I expect will iterate more through community feedback:

* I expect the AMOUNT of ICP to be something that is calibrated and goes through community discussions.
* Different models for node operator remuneration mechanisms have been discussed internally (pros and cons) and we will be bringing them up openly to discuss.
 
## Slow roll-out of phase 2
To gain some experience with the new deployment approach and to course-correct before the “flood gates” are opened, as you write, the rollout of phase 2 starts slowly. That is also indicated in the timeline visualization.
 
 
At the risk of being redundant, I will address your questions directly:

> 1. How will we ensure that node operators are incentivized to be honest?

Mid-term, the IC shall be able to detect abnormal participation in the consensus algorithm. In a first step, remuneration for such nodes can be reduced and ultimately the IC might create proposals to replace such nodes. We will not have full automation for all of this ready on day 1, but we are confident to get there over time.

> 2. And how will we verify their honesty?

The consensus team is better equipped to give a sound answer, my try: as long as not more than a third of the nodes in a subnet act maliciously or faulty, it’s possible to identify such nodes: for example, they do not contribute to the notarization of blocks or abstain from contributing to the random beacon.

> 3. Is there any type of staking?

Yes, the team's current thinking is that staking can help line up incentives.

> 4. Can we force secure enclave attestations of the replica, combining it with consensus, so that we can verify the replica has not been modified?

Yes, this is a project on its way and we will update this week hopefully.

> 5. Should we look into more automatic ways of compensating node operators? A fixed fee determined by vote seems much more subject to manipulation than a fee model that pays node operators in cycles, in addition to burning cycles.

Definitely, something we want to engage in discussion on. I will let Luis, Yvonne-Anne, Sam give some more context

-------------------------

diegop | 2021-11-29 22:22:57 UTC | #8

[quote="mparikh, post:5, topic:9170"]
Would testnet/s be also under the same purview?
[/quote]

Testnets are outside the scope of this, tbh. The focus is entirely mainnet. This does not preclude testnets but I wanted to be clear on the scope ("under-promise, over-deliver" and all that)

> How would the concept of partial node ownership (i.e. dfinitynodes) be blended in into the node provisioning?

Good question. I am not sure if DAOs would be treated any differently than any other entities. I will let @Luis , @samuelburri or @yvonneanne answer if they saw anything different about DAOs.

-------------------------

weedpatch2 | 2021-11-29 23:36:22 UTC | #9

I'm hesitant to ask too much too soon on this topic, as I know it is opened up for community discussion.

I'll start with this: I can't help but imagine the "IC-Netboot" project that was part of the internal Dfinity Hackathon has to be tied to this automated node onboarding process. In my mind, piggybacking off what @lastmjs stated, I can see a future where any new node being onboarded (or powered on after reboot/shutdown) actually pulls the OS image from the IC on boot. That way, the OS would be verified via consensus, and all code running on the node would be validated through the IC. Also served by the IC. Also, that would make it infinitely harder to have a malicious node in a subnet, as the entire stack is served via IC.

Secondary question: With the mention of a testnet by @mparikh I got to thinking, what would be required for an IC testnet to be available to the community? Would it just require (at least 3) compatible hardware devices to be running the OS IC code and be configured to work with each other? I know that the underlying infra for the IC is pretty substantial compared to Ethereum or Bitcoin, but there are reasonable reasons to want a full testnet over just the local replica (https endpoints, PLEASE).

-------------------------

yvonneanne | 2021-11-30 07:58:56 UTC | #10

> How would the concept of partial node ownership (i.e. dfinitynodes) be blended in into the node provisioning?

At the moment there is no plan to tread DAOs differently from other node providers and I don't see the need for this (happy to learn what kind of benefits there could be to do so, though). The NP rewards would go to the DAO which can then redistribute them according to its distribution mechanism.

-------------------------

yvonneanne | 2021-11-30 08:03:44 UTC | #11

[quote="weedpatch2, post:9, topic:9170"]
I can see a future where any new node being onboarded (or powered on after reboot/shutdown) actually pulls the OS image from the IC on boot. That way, the OS would be verified via consensus, and all code running on the node would be validated through the IC. Also served by the IC. Also, that would make it infinitely harder to have a malicious node in a subnet, as the entire stack is served via IC.
[/quote]

I share this vision for the future. In order for this work properly, progress on using nodes with TEEs (Trusted Execution Environments) will be necessary. There is a team working on this topic and there will be a motion proposal about it soon. In the meantime, we'll work on the other parts necessary for more decentralization.

-------------------------

llbrunoll | 2021-11-30 22:32:48 UTC | #12

[quote="diegop, post:6, topic:9170"]
The original version of this post was 5x longer,
[/quote]

Please, @diegop , let us have the 5x version as well! (btw, thank you for your post. There is plenty of valuable information) 

Also, I would like to drop a question to @lastmjs 

[quote="lastmjs, post:4, topic:9170"]
Is there any type of staking?
[/quote]

do you mean: to require node providers to have a minimum amount of ICP locked in their nodes to join the network? 

We should have this in mind:
[quote="diegop, post:6, topic:9170"]
Locking some amount of ICP is one of the mechanisms we’re considering to incentivize node providers, and the hardware is actually of non-negligible cost, so you can view this as staking as well.
[/quote]

A Gen-1 Core-Node costs ~10k $USD + extra ~20k $USD for the memory upgrade. A node provider has to be vested in ~30k $USD only for a single node! I agree that staking is already there, and it is a risk that is being taken by the provider. 

In addition, a node provider will need to handle contractual risks associated with the colocation of nodes in a Data Center (usually, the deal involves at least 1 to 2 years renting contract (subject to fines in case of breach of contract). 

I just wanted to say that, if we consider the required investment in hardware + contractual exposure (with the host DC) there is already considerable incentive in place for a node-provider to behave well.  

Please, let me know your thoughts about that.

-------------------------

lastmjs | 2021-11-30 23:39:02 UTC | #13

I agree those are good incentives. Another incentive improvement to consider is an ICP stake that can be slashed. The nodes are not specific to the IC, so I imagine could be repurposed. An ICP stake that could be slashed for bad behavior more directly ties the fate of the node operator to the fate of the IC.

-------------------------

Zane | 2021-12-02 17:40:06 UTC | #14

I partially agree, but the hw and data center rent aren't necessarily lost, you could make a deal with someone else and cover your losses or even make a profit, staked ICP can be slashed, so in the exact moment the node provider doesnt behave correctly he permanently lost money.

-------------------------

mparikh | 2021-12-02 17:57:29 UTC | #15

This is also the GRT model. You do stake GRT (100k grt) in addition to node. (& you get slashed for degraded performance; wrong results in grt case). The GRT node costs are similar to IC for most performant GRT node. Of course in IC case, there's one type of node at this point.

-------------------------

namyIC | 2021-12-02 19:45:22 UTC | #16

I believe that the DfinityNodes project is on the right path to bring more decentralisation by crowdfunding nodes through their coming DAO. If all checks out on their end it would be beneficial for everyone if they got the right support and backing by Dfinity. There will always be minimum amount of hassle for anyone involved if it goes through one source and what better than a DAO that acts as a node operator backed by thousands of shareholders.

Just my 2 satoshis

-------------------------

rubenhorne | 2021-12-03 02:40:27 UTC | #17

I agree that slashing could help the node operator keep skin in the game for good behavior. 

My question is can we distinguish between "bad behavior" and unexpected interruptions in service (such as a power or internet outage to the node provider)? We could even imagine an organized group putting pressure on a node by threatening to cut off its power or internet and thereby lose its stake. We would want nodes to be resilient against these kinds of threats.

-------------------------

llbrunoll | 2021-12-08 18:54:30 UTC | #18

@Zane @lastmjs Please, consider also (there are already --> correct to --> there will be) measures in place to counter bad behavior / bad performance, that is a penalty on the node rewards: [penalty table](https://www.dfinitycommunity.com/content/images/2021/08/Penalties-SLA.jpg) . 

On top of that, a single core node with storage upgrade costs ~30k $USD. Now, if we would propose to add an extra layer of investment  (locked ICP associated with the node), how much would it be? 10k $USD (to make some sense)?

So, we would increase the barrier to get a new node up and running, from 30k $USD to 40k $USD. 

On top of that, you can hardly get colocation in a good Data Center (with a good structure) if you want to rent a single 1U in a rack. Usually, they offer you 12 to 24U, not less than that. Meaning, a node provider needs at least 3-4U to start getting into the business. 

My point is: There is already a huge financial barrier for someone to become a node provider. We are talking about ~100k $USD of the initial investment.

Do we really want to increase this barrier even more?

The community keeps saying "anyone can become a node provider" ... Currently, anyone with > 100k $USD to put into hardware.

For me, it feels like locking ICP into nodes makes it even more difficult to expand the network into millions of nodes. The requirement for top-performance hardware is already a strong incentive (also, a strong barrier for new node providers); and it is already a locking as noted by @diegop .

-------------------------

diegop | 2021-12-08 05:56:30 UTC | #19

Update: 

Aas part of the follow-up to this post: [Motion Proposals on Long Term R&D Plans](https://forum.dfinity.org/t/motion-proposals-on-long-term-r-d-plans/9261) (Please read this post for context).

We have begun posting Long term R&D project 1-pagers. This project will have the 1-pager in this thread.

-------------------------

LightningLad91 | 2021-12-08 06:56:27 UTC | #20

We should add legal fees to the cost of being a node provider since that burden is being placed on them now.

-------------------------

Luis | 2021-12-08 14:36:16 UTC | #21

@llbrunoll 
This is Luis Mompo Handen from DFINITY. I would like to add some slight corrections to your post. 

Penalties are not yet in place. There two things that the IC needs to provide to do so: 1) automated reward payouts (roadmap coming soon) and 2) decentralized node addition (roadmap published).  
With 1) penalties will be calculated by the NNS in the same way rewards are and with 2) node providers can take the full responsibilities over their nodes.  

Node providers have currently three types of nodes. From about 8K$ to 30K$ whereby the 30K$ type is a minority of the network and is meant for storage subnets that are still in development. On the running costs we also have three different types depending on the number of nodes per DC and rack (6,14 and 28). I think long term there will be many types of nodes with various costs and therefore various rewards. 

The deposit neuron for node providers is an idea that IMO will need more discussions in the node provider community. I would like to be careful with things that would overregulate a market for no reason. As long node providers are supporting the IC in the way they are currently doing and seeing a long list of interested node providers I don't see a reason for such a deposit. I think we all agree that growing the network is the best we can do to ensure the resilience of the IC. Getting accepted as a node provider by the community and thereby by the NNS should be a highly valuable accreditation and of course a honor. Ideally this would always make any kind of regulation obsolete.

-------------------------

diegop | 2021-12-08 09:21:30 UTC | #22

For context… Luis above is the team lead at Dfinity for node provider efforts. He works with @yvonneanne (researcher) and @samuelburri (vp of engineering).

-------------------------

llbrunoll | 2021-12-08 19:04:52 UTC | #23

Hi @Luis , thank you for your comments, brings a lot of extra information. I just added a note there regarding penalties (that are not yet implemented).  I have tried to understand details about 'how to become a node provider' , talked to local DataCenters to check about colocation, and understand about operation costs. Information about node providers is very sparse, I could only grasp what is happening, by collecting info from posts here and there, and by talking to one node provider (who gave me some info, but not a lot, due to "confidentiality requests enforced by contract" - that is what I was told) ... For example, this is the first time I hear that there are three configurations (6, 14, and 28 nodes) with different associated costs. Could you give us more info about those configurations and the hardware cost involved? Thank you!

-------------------------

Zane | 2021-12-12 00:11:44 UTC | #24

Thanks for the infos, right now nodes are paid a fixed amount regardless of how many cycles they process, but I've read many people claim in the future it will be based on cycles, is that true or a fake rumour?

-------------------------

ysyms | 2021-12-16 13:46:27 UTC | #25

Is the cost of the core node machine destroying the network too low?
 According to the ICA document, the core node machine can also be used as a general-purpose server.

 The result of node machines destroying the network is nothing more than losing costs. They can also go to the second-hand market to sell these general-purpose servers after destroying the network.  Will this create the possibility of large-scale evil?

-------------------------

samuelburri | 2021-12-17 08:25:04 UTC | #26

In addition to the short- and mid-term items listed for the first quarters of 2022, the following topics will be addressed in the next few years. The ultimate goal for all node provider-related improvements is sustainable network growth. While the short- and mid-term items focus on improving the autonomy of node providers, the items listed below aim at operational improvements and automation, a prerequisite for an ever-growing network.
Note that work described in the Motion proposals on Trusted Execution environments, Secure OS, E2E Security, Malicious parties, Scalability and Tokenomics is required to be integrated into the release and operational processes to achieve these goals. We will not describe or discuss them here in detail though and suggest questions regarding them to be asked in the corresponding forum threads.

**Operational Maturity**

* Decentralized monitoring: Currently, the health of the nodes is measured by collecting and analysing logs and metrics on a third-party cluster. When deviating from the expected indicator values, the respective node providers and data centers are notified manually to fix the situation. In the next generation of the internet computer protocol, the monitoring tasks will be carried out by the nodes of the network themselves, in a fully automated fashion. To this end, the architecture of the nodes and their components needs to be extended. the interaction between the different types of nodes and subnets needs to be adapted and . A mechanism to deal with faults within and outside the control of the node owners and data centers must be explored. In particular, it should be possible for any party to collect information on the health and contributions of any node without additional trust assumptions.

* Decentralized backup: To ensure that even in the presence of a deadly bug in the node software the content of subnets is not lost, a backup mechanism shall be implemented to collect the state and the messages sent to a subnet off-chain. Using subnet recovery, the state of the subnet can be re-generated. In order to do this in a decentralized manner, mechanisms trading off replay speed, memory complexity, and privacy concerns have to be devised. Furthermore, the backup mechanism must be integrated in the NNS-driven

* Decentralized boundary nodes: As elaborated in a separate motion proposal, boundary nodes will become fully NNS-managed and use the same update mechanisms and operating system as regular nodes. This will allow the inclusion of boundary nodes in the new node provider deployment process with slight variations in the configuration process.

* Extended node remuneration: The previous items will lead to refinements and improvements of the node remuneration process. Insights gained through the decentralized monitoring will allow automated adjustments to payments based on the performance of nodes, or rather the lack thereof. Backup services and boundary nodes will be new categories to be included in the remuneration process.

**Automation**

* Automated node and data center allocation and rewards: In a future version of the Internet Computer protocol a lot more tasks will be automated and executed by NNS canisters. In particular, the computation of how much rewards a node in a specific location should be granted, will be taking the current local costs for electricity, wages, regulations and risks into account and combine this with the measurements obtained from the decentralized monitoring infrastructure. The future versions of the NNS will be designed to reflect the dynamics of compute and storage demand and supply, integrate decentralization metrics and balance the amount of tokens in circulation.

* Automated subnet creation and healing: With a continuously increasing number of nodes and subnets, it will become untenable to manually propose removal of unhealthy nodes and addition of new ones. Instead, the NNS will be extended to propose and execute node replacements based on data collected through decentralized monitoring.

Note: In the upcoming **Decentralized Node Management** motion proposal (see [Motion Proposals on Long Term R&D Plans](https://forum.dfinity.org/t/motion-proposals-on-long-term-r-d-plans/9261)) we plan to combine the initial post in this thread, these additional points and some reactions and adjustments based on the conversation here.

-------------------------

samuelburri | 2021-12-17 19:48:58 UTC | #27

*For completeness, we decided to also publish the motion proposal that we plan to submit on Monday. It combines the first post in this thread the the extension posted earlier today.*

# Decentralized Node Management

## Summary

The Internet Computer (IC) is formed by standardized “node machines”. These machines are owned by independent node providers and installed within independent data centers. This motion proposal describes the technical and organizational advances required to guarantee a continued, sustainable network growth of the IC.

## 1. Objective

The objective is threefold

* **Decentralization:** empower node providers to setup, monitor and maintain nodes independently.
* **Scalability:** remove technical and operational bottlenecks that hinder the network to grow to millions of nodes.
* **Automation:** remove errors and speed-up repetitive tasks to lower risks and reduce resources required for the ever-growing IC network

## 2. Background

Compared with other blockchains, the IC has stronger requirements on the homogeneity of the node machines due to the fact that most of the machines’ resources are dedicated to perform useful work (e.g. executing smart contracts, participating in threshold cryptography) that needs to be performed by all nodes of a given subnet blockchain.

The IC is designed to host mass market applications completely on chain. Thus the state of canister smart contracts on the IC can be much larger than the state of smart contracts on other blockchains. The nodes also need significant network capacity for managing and synchronizing that state. To meet the requirements of extremely high availability and high throughput, the IC nodes are hosted in data centers (DCs). To achieve decentralization, the nodes are owned and the DCs are operated by independent parties. Moreover, the DCs are spread across the globe. Due to the need for homogeneity and capacity, the Internet Computer Association (ICA) defines the hardware to be used for node machines. The network is expected to grow to millions of nodes running from thousands of DCs in the coming years. As decentralization is key to the mission of the IC, many new, independent node providers (NPs) will be needed to support that growth. The current NP onboarding process, node deployment and management procedures are not ready to sustain this network growth mid- and long-term.

## 3. Why is this important?

A successful IC attracts thousands of developers who are continuously deploying millions of canister smart contracts. In order to sustain this growth, the number of nodes and subnets must steadily increase. However, this growth can only be sustained if the operational processes are further automated, ready to scale – all in a decentralized fashion.

## 4. Topics under this project

Specifically, this proposal includes the following research and development directions. The first topics are reasonably well scoped and work has started. The second set of topics is to be tackled mid- and long/term.

### Short-term

* **Autonomous node deployment and operation:** Empower node providers to install and maintain nodes without any support from the ICA.
* **Independent node provider registration:** New node providers shall be able to register directly in the NNS frontend dapp.They will be able to submit a proposal to become a new node provider, without the support of the ICA.
* **NNS-driven DC allocation:** Node providers can participate in an NNS-controlled mechanism to elect new data centers. This process shall incentivise the addition of new DCs that further decentralize the IC’s network. Furthermore, it balances inflationary and deflationary forces.
* **Availability of node hardware:** A new generation of ICA-specified node hardware is planned that shall guarantee global availability and provide a better choice between hardware providers. Furthermore, the next generation shall include the SEV-SNP technology to further improve the security of nodes.

### Mid- and Long-term

* **Decentralized monitoring**: Currently, the health of the nodes is measured by collecting and analysing logs and metrics on a third-party cluster. When deviating from the expected indicator values, the respective node providers and data centers are notified manually to fix the situation. In the next generation of the Internet Computer protocol, the monitoring tasks will be carried out by the nodes of the network themselves, in a fully automated fashion. To this end, the architecture and the protocol of the nodes and their components require extensions. In particular, it should be possible for any party to collect information on the health and contributions of any node without additional trust assumptions.

* **Decentralized backup:** To ensure that even in the presence of a deadly bug in the node software the content of subnets is not lost, a backup mechanism shall be implemented to collect the state and the messages sent to a subnet off-chain. Using disaster recovery, the state of the subnet can be re-generated. In order to do this in a decentralized manner, mechanisms trading off replay speed, memory complexity, and privacy concerns have to be devised. Furthermore, the backup mechanism must be integrated in the governance protocol, including the assignment of which nodes are responsible for the backup of which subnets and their monitoring.

* **Decentralized boundary nodes:** As elaborated in a separate motion proposal, boundary nodes will become fully NNS-managed and use the same update mechanisms and operating system as regular nodes. This will allow the inclusion of boundary nodes in the new node provider deployment process with slight variations in the configuration process.

* **Extended node remuneration:** The previous items will lead to refinements and improvements of the node remuneration process. Insights gained through the decentralized monitoring will allow automated adjustments to payments based on the performance of nodes, or rather the lack thereof. Backup services and boundary nodes will be new categories to be included in the remuneration process.

* **Automated node and data center allocation and rewards:** In a future version of the internet computer protocol a lot more tasks will be automated and executed by NNS canisters. In particular, the computation of how much rewards a node in a specific location should be granted, will be taking the current local costs for electricity, wages, regulations and risks into account and combine this with the measurements obtained from the decentralized monitoring infrastructure. The future versions of the NNS will be designed to reflect the dynamics of compute and storage demand and supply, integrate decentralization metrics and balance the amount of tokens in circulation.

* **Automated subnet creation and healing:** With a continuously increasing number of nodes and subnets, it will become untenable to manually propose removal of unhealthy nodes and addition of new ones. Instead, the NNS will be extended to propose and execute node replacements and subnet creation based on data collected through decentralized monitoring.

Note that work described in the Motion proposals on Trusted Execution environments, Secure OS, E2E Security, Malicious parties, Scalability and Tokenomics is required to be integrated into the release and operational processes to achieve these goals. We will not describe or discuss them here in detail though and suggest questions regarding them to be asked in the corresponding forum threads.

## 5. Key milestones

The following milestones are indicative and their scope may change as the work proceeds.

* **(M1) Decentralized node deployments:** This milestone subsumes the first short-term items and enables node providers to independently onboard and deploy their nodes.
* **(M2) Redeployment** of existing nodes using new deployment mechanism
* **(M3) NNS-managed DC allocation:** New DCs are selected by the NNS, possibly using an auction mechanism.
* **(M4) Operational maturity**, including decentralized backup services and monitoring
* **(M5) Metrics-based remuneration:** a refinement of the node provider remuneration process, taking the data collected through decentralized monitoring into account.
* **(M6) Automation:** this is less of a milestone but rather a continuous effort.

Note: Boundary node milestones are described in a separate motion proposal.

## 6. People involved

Discussion leads: @Luis @yvonneanne @samuelburri 

## 7. Why the DFINITY Foundation should make this a long-running R&D project

The design, implementation and rollout of an enhanced node management requires changes to many layers of the IC stack but also a close collaboration with various stakeholders, such as the node providers. While community members may have an excellent understanding of individual components or aspects, it’s unlikely that the community will drive this change end-to-end without a major contribution of the DFINITY foundation. For that reason and given the importance of the topic for a sustainable network growth, the foundation is determined to make significant resource investments in this project.

## 8. Skills and Expertise necessary to accomplish this

The problems described above require the cooperation of hardware, data center, and networking experts as well as software engineers, to design, review, and implement the prospective solutions. Specifically, experts from the following fields are necessary:

* Server design and configuration
* Networked systems
* Network management
* Network security
* Distributed systems
* Economics

This project would require both researchers and software engineers with expertise in the above-mentioned fields.

## 9. Open research questions

* What are the relevant metrics to derive information about the health and correct operation of nodes? How can this information be collected reliably in a trustless fashion despite failures?
* How should subnet backup information be distributed, stored and retrieved from nodes while respecting privacy and guaranteeing efficient recovery despite Byzantine node faults?
* How should the rewards for boundary nodes and backup nodes be determined in relationship to replica nodes? Should there be a role shuffling scheme and if yes how should it be designed to balance fairness and efficiency while providing maximum security?
* How can the computation and implementation of penalties and rewards be automated in a fair and incentive-compatible way with minimal implementation effort?
* How to migrate from the current deployment of three different node types to a unified and more flexible deployment fully governed by the NNS?
* How to design allocation mechanisms that provide incentives for network growth maximizing decentralization along multiple dimensions? How to balance dynamism in local costs, risks and regulations with the need for long-term planning and the supply and demand of ICP overall?
* How to exploit the information about node health and subnet usage for the automatic derivation of suitable thresholds for node replacements and subnet creation?

## 10. Examples where the community can integrate into project

Node providers are the key stakeholders for the plans presented in this proposal. We would greatly appreciate their opinion on how to prioritize the work items listed above and whether we may have missed some important aspects. We plan to rollout first DCs with the new deployment mechanism in Q1 2022 and look forward to tangible feedback from these first trials. We plan to keep the community posted on this topic on a regular basis.

## 11. What we are asking the community

The forum discussion around the roadmap for node management has attracted a lot of interest and contributions from the community during the past days. We have included feedback that we have received so far in this summary. DFINITY engineers and researchers are looking forward to more inputs and discussions once this motion proposal is submitted.

-------------------------

diegop | 2021-12-20 19:12:36 UTC | #28

NNS Motion is live!

https://dashboard.internetcomputer.org/proposal/35670

-------------------------

jzxchiang | 2021-12-22 07:56:30 UTC | #29

Thank you for the detailed post. This is surely one of the most important items on the IC roadmap.

> NNS-driven DC allocation: Node providers can participate in an NNS-controlled mechanism to elect new data centers.

Can you explain what it means to elect data centers? I thought the NNS's job was to add new nodes to subnets, which are run by registered node providers. Where does the concept of a data center come into play? I thought that was more of an implementation detail for node providers where they choose to run their nodes (except for the geographic location).

-------------------------

BramDelfos | 2021-12-28 13:04:56 UTC | #31

Is there a list of potential new node providers who will be onboarded using (C) in Q1 2022?
I would love to be on that list!

I’m currently negotiating an option to setup nodes in a new datacenter in Ethiopia.
Please let me know where I can indicate my interest to be considered for this early adopter phase.

-------------------------

Cole | 2021-12-29 21:03:54 UTC | #32

Hello everyone - Cole from the DFINITYNodes Team here!
I just wanted to introduce our project & ideas to the DFINITY Team and Community, to get some feedback, and hopefully work together to bring this project to reality.

DFINITYNodes is a community solution to the inaccessibility of Nodes on the Internet Computer to the average user. We plan to solve this issue by utilizing a DAO to crowd-fund for Nodes through NFTs, allowing users to get involved at a low entry cost. These NFTs are referred to as "Node Shares", which are stakeable within the DFINITYNodes DAO to participate in governance and reap Node Rewards for participation. 

For a deeper dive into the mechanics of DFINITYNodes, please reference the DFINITYNodes Medium, where you can find our Whitepaper & Introduction.

-------------------------

Luis | 2022-01-05 14:01:13 UTC | #33

I'm happy to be helpful and I guess many interested NPs are following this thread. Your feedback is helping us to find out what needs clarification, what needs to be discussed with the community. 

This roadmap post wants to inform about the current state and the roadmap for the next months and thereby it covers the onboarding of new NPs with some "modified Gen1 hardware" in phase 2 ([see graphic](https://global.discourse-cdn.com/business4/uploads/dfn/optimized/2X/1/16e62ee548528a028a101f33da4ea69c7d24f578_2_690x387.png)). This 2nd phase isn't meant to support the growth of the network as the planned growth is fully achievable with the 1st generation of NPs (see total node count on the bottom of the timeline) but to prove that a decentralized onboarding process of new NPs and DCs implemented into the NNS UI is actually working. The NNS driven data centre auctions in the 3rd phase are depending on this NNS UI workflow and its verification can't be done with the 1st generation NPs because they are already onboarded, means registered in the NNS.   

[quote="llbrunoll, post:23, topic:9170"]
I have tried to understand details about ‘how to become a node provider’
[/quote]
At the time at this post was written we had three slightly different and very detailed sequence diagrams showing this process. We chose a wording that matched with all three variants. This is not because we want to hide something but because we admit that there is a lot of internal adjustments needed to decide what is feasible within the first year of the IC. 
The list of interested node providers is long. The new node providers that will be added this year to verify the decentralized onboarding process will very likely be chosen out of this list. From there on all technical prerequisites are given for decentralized growth of the IC. What's then missing is a growth strategy that leads from current subsidized pricing model to a utilisation based pricing model.  
We are preparing a forum post that wants to explain the current subsidized model and start the discussion with the community about a healthy growth of the IC and therefore show how new node providers can join the network.

-------------------------

Luis | 2022-01-05 14:19:35 UTC | #34

Hi Cole and welcome to the node provider community. 

I read your medium post about your project and I think that's a really good idea to contribute to the growth of the network. I see a little limitation that comes along with the nature of the IC. Our decentralisation algorithm ensures that no single entity isn't able to manage/access a critical majority of the nodes in a subnet. Your project must be seen a single node provider due to the access level that is given by the fact that you are running the nodes for your investors. This somehow limits the growth of your project to the growth of the IC but still works and still allows sharing the investment with your users.    
Beside that I would see the same prerequisites for your project than for any other node provider. As explained in my response to @llbrunoll we need to wait until everything is given to start onboarding new node providers.

-------------------------

Luis | 2022-01-10 18:02:58 UTC | #35

It's true that we are targeting a utilization based rewards model but for the initial network the node rewards need to be subsidized to limit the financial risk that the first node providers entered when agreeing to invest in a project that didn't exist yet and to ensure the growth that is needed to provide an evidence to the community that the IC is actually working and thereby scales. 
As the long list of projects running on the IC is already proving the IC is not only growing its resources but also its utilization. We are working on a community post explaining how this initial network was financed and our we are targeting a price finding model.

-------------------------

Luis | 2022-01-05 16:25:17 UTC | #36

@ysyms Sorry, but I don't understand your questions.

[quote="ysyms, post:25, topic:9170"]
Is the cost of the core node machine destroying the network too low?
[/quote]
Are you asking if the current costs for setting up an IC rack is harming the growth of the network?

-------------------------

Luis | 2022-01-05 16:48:17 UTC | #37

There is no list yet and I don't think there will be. 
The plan is to advertise regions where our decentralisation algorithm sees the need for new DCs. Currently this can of course be done by eyeballing the map on our public dashboard and we obviously need DCs in South America, Africa and Asia so the chances for Ethiopia a pretty good :slight_smile: 
The reason why we let the our code decide is that in phase 3 the NNS will use that code to advertise new DC regions in a decentralised way. The difference between phase 2 and phase 3 is again the progress in the decentralisation of the IC. In both phases interested node providers will be able to apply by creating a proposal and advertising it in the community.

-------------------------

BHare1985 | 2022-01-05 19:02:19 UTC | #38

This seems like a flaw in how the decentralization algorithm would consider a DAO as a single "entity". Indeed, a DAO is one entity/organization but it represents the desire and governance of many persons. 

To me, this DAO is one of the most promising ways to decentralize node providers.

How could this project be set up such that it would fit within Dfinity's ideal decentralization of the nodes?

-------------------------

LightningLad91 | 2022-01-05 19:33:52 UTC | #39

If I recall correctly; DfinityNodes' approach still requires that some central authority be legally responsible for the nodes right? In my mind this means one person, or even a small group of people, would have physical access rights to all of the nodes that are governed by the DAO. It's great that the DAO can inform decisions, and share profits, but you're still acting on good faith that the people with physical access and legal ownership are executing the will of the community. Accepting that trust relationship may be okay for the members of the DAO; but the NNS stakeholders may not feel the same way and are less incentivized to trust the individuals with physical access.

-------------------------

Luis | 2022-01-06 08:20:20 UTC | #40

Right. There is always one single entity that has physical access to the nodes and this relation is relevant for the decentralisation governance. It's totally irrelevant how many entities "own" what manages these nodes. 
I therefore disagree with @BHare1985 that a DAO as explained in the medium post shouldn't be seen as single entity as long as the finale outcome doesn't differentiate from any other node provider constellation. Perhaps this DAO just needs some adjustments. Instead of being fully focused on the users investing in node hardware this project could extend its model to also involve entities that act as a node provider for this DAO to bring this two groups together, users that want to invest and users that can run a datacenter but have to deal with burden given by the high initial investment. Shouldn't be to hard to achieve IMO.

-------------------------

agsaiz | 2022-01-15 21:14:23 UTC | #41

Hi Luis!

I’m Alberto from Spain. We are looking for be part of the ICP family creating nodes here in Spain.

Diego Prats said me that we have to contact with you here to resolve some dudes.

First of all, where can we found the latest node hardware specifications?

We based in this article: dfinitycommunity. com/how-to-become-node-operators/

We have the budgets of the three types of indicated nodes, the two of Dell and the one of Supermicro.

We filled out the form on that website a couple of months ago (internet-computer.typeform. com/to/IWl3iClx), but no one has contacted us.

We have dudes about DC specifications too, and about software to deploy in the machines, etc… 

If you could give us a hand I would really appreciate it.

Thanks a lot!!

-------------------------

Luis | 2022-01-28 22:24:55 UTC | #42

[quote="samuelburri, post:27, topic:9170"]
**Autonomous node deployment and operation:** Empower node providers to install and maintain nodes without any support from the ICA.
[/quote]

Referring to @samuelburri's announcement I'd like the node provider community to know about a huge milestone that was demoed on our Global RnD Meeting last week: https://www.youtube.com/watch?v=Qu7cRbIX5e8&ab_channel=DFINITY 

The team is already preparing fields tests. If there are no further findings the acceptance tests will start in the first week of March with some selected 1st generation node providers.

-------------------------

diegop | 2022-01-28 21:04:02 UTC | #43

Relevant update: https://forum.dfinity.org/t/improvements-to-node-provider-remuneration/10553?u=diegop

-------------------------

agsaiz | 2022-01-28 22:25:54 UTC | #44

We love to be one of the testers!

-------------------------

icme | 2022-02-11 21:25:59 UTC | #45

Out of curiosity, is there any protocol that would stop a single country having enough nodes (albeit with independent parties running them) to disrupt the IC? Right now according to the https://dashboard.internetcomputer.org, the over 50% of nodes are in the U.S. (see totals below in post).

Imagine what could have happened if the IC had launched back in 2018 and a ton of nodes spun up in China, then the government cracked down.

I'd love it if we could flush out a few ideas on this or start up a proposal to monitor node concentration by country and make sure it doesn't ever reach a point where a single country could take the network offline.


Here's my quick count from https://dashboard.internetcomputer.org on the current status of nodes per country:

United States: 210 nodes total
	•	Portland - 17
	•	Chicago - 16
	•	New York - 11
	•	Atlanta - 23
	•	Atlanta2 - 13
	•	Jacksonville - 17
	•	Orlando - 22
	•	Tampa 20
	•	Dallas - 21
	•	Las Vegas - 11
	•	Fremont - 19
	•	San Jose - 20

Belgium: 48 nodes total
	•	Antwerp - 19
	•	Brussels - 19
	•	Brussels2 - 10

Germany: 27 nodes total
	•	Munich - 27

Switzerland: 58 nodes total
	•	Geneva2 - 21
	•	La Chaux-de-Fonds - 20
	•	Zurich2 - 13
	•	Zurich3 - 2
	•	Zurich5 - 2

Romania: 25 nodes total
	•	Bucharest - 25

Singapore: 47 nodes total
	•	Singapore - 19
	•	Singapore2 - 9
	•	Singapore3 - 19

-------------------------

Luis | 2022-02-14 11:35:02 UTC | #46

Hi @icme. 

Thanks for bringing this up. 

The reason why we currently have a slight majority of nodes in the US has historical reasons. The hardware was provided directly by US manufacturers (Dell and Supermicro) and the US based node providers got them delivered first. This all happened with the third covid wave. International shipments and the coordination of remote hands was very complicated. We rerouted hardware for our own test networks that was already in Europe and Asia but this wasn't sufficient to balance out the US number of nodes.
In the meanwhile the hardware has arrived in all data centers worldwide. Since autumn 2021 were are only onboarding European data centers. We had three in January (ZH3/5/7) and four more are following in the next two weeks (Marseille, Ljubljana, Maribor and Frankfurt). Two data centers in Tokyo are expected for March to extend the number of Asian nodes. 
The remaining data centers to the full node count of about 1300 nodes are mixed. On the end we will still have a minority in Asia and big black spots in the rest of the world which will be closed by the new, decentralized node provider onboarding mentioned in this post.
In the meanwhile we are doing two things, first we are replacing US nodes from extings subnets with nodes from new European node providers, the first three subnets we did last week and more will follow every week, and secondly we are preparing a decentralisation API for the public dashboard. This API is based on the one that our SRE team is using since launch to decide about the best possible decentralisation of new subnets using the Nakamoto coefficient. It takes the node provider, region and gps coordinates, and data center owner/carrier into account. The public dashboard will show the decentralisation index for each subnet and makes the improvement visible to the community. Of course we will publish the corresponding code to allow ambitious community members to check the decentralisation in proposals for new subnets. The improvement of the decentralisation will not only be provided by more diversity but also by an expected increasing number of nodes per subnet. 

I think that the IC proves real decentralisation much better and earlier than other projects of the same size. But I also think that this "decentralisation quality" will be hard to keep. The main reason is the lack of small data centers and the increasing number of data centers provided by a defacto oligopol. But we are aware of that and see it as a challenge when establishing a decentralized infrastructure that builds on professional datacenters. One way to get more diversity in the available data centers owners could be to pay higher rewards for nodes from small datacenter that very often also have higher costs.

-------------------------

lastmjs | 2022-02-14 16:09:20 UTC | #47

[quote="Luis, post:46, topic:9170"]
secondly we are preparing a decentralisation API for the public dashboard. This API is based on the one that our SRE team is using since launch to decide about the best possible decentralisation of new subnets using the Nakamoto coefficient. It takes the node provider, region and gps coordinates, and data center owner/carrier into account. The public dashboard will show the decentralisation index for each subnet and makes the improvement visible to the community. Of course we will publish the corresponding code to allow ambitious community members to check the decentralisation in proposals for new subnets
[/quote]

This is extremely exciting. Also this whole post beyond the quote really shows the care DFINITY has taken thus far to ensure decentralization in the network. This is excellent.

I am also worried about maintaining the quality of decentralization, especially as data centers and nodes can permissionlessly onboard. For example, how do we verify location and independence? For gps coordinates, are there TEE GPS hardware modules that can sign coordinates?

If we can't verify the essential information necessary for decentralization, then the network could begin to succumb more easily to Byzantines.

-------------------------

Luis | 2022-02-15 12:12:13 UTC | #48

Thanks for your feedback. I'll forward that to the team. We really appreciate such feedback and are looking forward discussing and not only reporting the challenges that we are seeing.

> I am also worried about maintaining the quality of decentralization, especially as data centers and nodes can permissionlessly onboard. For example, how do we verify location and independence? For gps coordinates, are there TEE GPS hardware modules that can sign coordinates?

There are many things that could endanger the quality of decentralisation. As I explained before the only real decentralisation is the decentralisation that can be verified/measured deterministically. But this means that we need to trust the data that is used. With the first generation of node providers this was easy as we could literally trace the shipments to the datacenters and had personal contact to the node providers. With the next generation of node providers this will change. It's not completely permissionless, a node provider (NP) still needs a proposal to get registered and needs a registered datacenter (DC) to link a node operator (NO) to onboard nodes. This means that we are dropping the need of a proposal for a new node operator if the community is able to verify the NP and corresponding DC. 
The location that is proposed is relatively easy to verify and won't change for a DC. But there are only a few ways to verify that the nodes are actually running in the DC that was linked to the NO. GeoIP lookups and hop counting are the two that we are implementing atm. Ideally the DCs would register themselves and ensure that there no "malicious" links from NO to their DC record. 
The independence of a node provider is hard to check and it could obviously change by time. Proposals for new NP will be able to be created via the NNS Frontend Dapp and will have a summary field where NPs are asked to explain their motivation and qualification. We're currently discussing which guidelines we want to give to the community to decide about new node provider's proposals. Nevertheless we can't lonely rely on an initial assessment of the indepence of a new node provider. To address this issue we're reducing the number of nodes that a new NP can onboard initially which leads to a higher diversity of NPs per subnet. Another idea that is discussed is to shuffle nodes in subnets randomly. Even if there would be a cohort of NPs it would never exist for a longer period within a subnet and they won't be able to organize an attack against the integrity of subnet because they can't predict when the cohort will have a majority in a subnet.  
A GPS hardware won't always help as they aren't working in every location. In addition it would be a huge effort to run them trustworthy and we would need to provide different models to ensure the decentralisation in the supply chain. This problem we already have with our [Nitrokey HSMs](https://www.nitrokey.com/files/doc/Nitrokey_HSM_factsheet.pdf), the only open source HSM that we found on the market, and that's why we are introducing an alternative way to register NO without using an HSM device. Special HW makes decentralisation always more complicated.

> If we can’t verify the essential information necessary for decentralization, then the network could begin to succumb more easily to Byzantines.

The DC details (GPS coordinates and legal person) are the essential information that will need to be verified by the community. This covers 3 of 4 decentralisation parameters. The risk by malicious NPs can be mitigated in many ways. I wouldn't be surprised if the need for NP proposals would be dropped when all controls are in place that reduce the rest risk of malicious NPs to an acceptable level.

-------------------------

lastmjs | 2022-02-15 14:19:56 UTC | #49

I am extremely impressed with the level of thought you are taking to this, and I feel we are being very well cared for.

Will continue to engage along with the community as we strive to ensure decentralization and thus the most secure network possible.

-------------------------

lastmjs | 2022-02-15 14:21:14 UTC | #50

[quote="Luis, post:48, topic:9170"]
Another idea that is discussed is to shuffle nodes in subnets randomly. Even if there would be a cohort of NPs it would never exist for a longer period within a subnet and they won’t be able to organize an attack against the integrity of subnet because they can’t predict when the cohort will have a majority in a subnet.
[/quote]

I'm hoping all are starting to see how powerful node shuffling can be. Are there dissenting opinions on this still? What are the current arguments against this?

-------------------------

Luis | 2022-02-15 14:44:24 UTC | #51

[quote="lastmjs, post:50, topic:9170"]
Are there dissenting opinions on this still? What are the current arguments against this?
[/quote]

I'm not sure how widely this was discussed in other teams. Since beginning of the this year an orchestrator team was splitted out of the consensus team. I guess this team will take the lead on such a feature. 
Node shuffling are topology changes that currently are done manually via proposals by the SRE team. For decentralisation improvements that's fine but for random shuffling this would need to be NNS driven. I guess that other topology management related features like subnet splitting could get prioritized higher. The only reason that I could imagine why the random shuffling wouldn't be done is that we found something that is even better, less load intensive. Shuffling nodes in subnets means syncing the state of a subnet which can already cause hundreds of GBs of traffic.

-------------------------

jzxchiang | 2022-02-16 07:26:09 UTC | #52

> I am extremely impressed with the level of thought you are taking to this, and I feel we are being very well cared for.

This sentiment probably summarizes why many 8+ year stakers haven chosen to stake for 8+ years. 

I've literally seen nothing about the IC that was carelessly designed, and I've read hundreds of posts on this forum. There are known knowns and known unknowns—but almost no unknown unknowns (that I can see).

-------------------------

Koto | 2022-03-06 12:54:31 UTC | #53

Hi, I am beginner on this forum, this is my first post.
How to become a node provider in practice? I must lease server in cloud or opposite, I must buy computer for my own and use it in data center. What is cost? How much ICP constant in fiat I can get for this node. If after years server will removed from neural net, I can use it for my own as my private computer or sold it?

-------------------------

Luis | 2022-03-07 16:57:08 UTC | #54

Hi Koto and welcome to the node provider community.

> How to become a node provider in practice?

You need to wait until the NNS frontend provides a way to register as a node provider. This is expected for end of Q2 2022. Once your proposal is accepted by the community you can create a proposal for a new data center record or choose one that is already in the registry. Once both, the node provider and data center record, are in the registry you can set up and deploy your nodes. 

>I must lease server in cloud or opposite, I must buy computer for my own and use it in data center. What is cost?

IC nodes are running on professional data center infrastructure. Cloud instances can't be used for running an IC node. Also by end of Q2 2022 we want to present the new node hardware together with some hardware manufacturers. The costs aren't clear yet. The last node types were about 10K$. I personally expect the new nodes being in a similar price class as we aren't reducing the specification. But there is a risk that current issues with global supply chains could even increase the cost per node. 

 > How much ICP constant in fiat I can get for this node. If after years server will removed from neural net, I can use it for my own as my private computer or sold it?

Details about the current node remuneration you can find in [this forum post](https://forum.dfinity.org/t/improvements-to-node-provider-remuneration/10553). 
The nodes that you onboarded will get rewards once they were added to a subnet. The life cycle of a certain node type isn't meant to be limited. The IC allows single nodes to die without any impact on the services running in that subnet. As long as the IC has enough nodes of a certain node type to create a subnet these node types will be used and get rewards. The sustainable usage of resources is important to the IC and differentiates again the IC from classic cloud computing. That said the efficiency of server hardware is constantly improving and rewards will need to decrease the more new, more performant types are introduced. Failing hardware will also cause penalties which again can reduce the rewards. This together could lead to node providers deciding to replace their hardware and do whatever they want with the old hardware.

-------------------------

agsaiz | 2022-03-07 17:27:31 UTC | #55

[quote="Luis, post:54, topic:9170"]
you can create a proposal for a new data center record or choose one that is already in the registry
[/quote]

Hi Luis. Where can I registry a new datacenter here in Valencia-Spain? While Q2 arrive with new hardware requirements… Thanks!

-------------------------

Luis | 2022-03-07 17:44:04 UTC | #56

Valencia :heart: my home town. I would love to see nodes there but the IC unfortunately doesn't care about individuals like me :slight_smile: We have data centers in Barcelona and Madrid from the first generation node providers waiting in the backlog. They'll come in the next few months :es: 

New data centers will be able to be proposed once the new onboarding workflow is provided by the NNS frontend like I explained in the previous post.

-------------------------

agsaiz | 2022-03-07 20:52:04 UTC | #57

Che Luis!! Fallas is here these days!! Jajajajaja!! Ok, where can we follow updates about the dates and ways to make it?? Here in the forum?? Thanks!! Gracies!!

-------------------------

agsaiz | 2022-03-08 05:20:09 UTC | #58

Luis please!! Come on with us dfinity Spanish telegram group: https://t.me/DFINITY_ES 🤗

-------------------------

Luis | 2022-03-08 07:35:14 UTC | #59

I have to skip Las Fallas this year but looking forward to a good paella de marisco in May :slight_smile: 
Yes, we will update this thread with every milestone that was reached.

-------------------------

Luis | 2022-03-16 16:40:01 UTC | #60

FYI: I created [a group](https://6hsbt-vqaaa-aaaaf-aaafq-cai.ic0.app/#/b36fv-bqaaa-aaaaf-adzxq-cai) on OpenChat for the IC node provider community.

-------------------------

agsaiz | 2022-03-16 20:55:31 UTC | #61

I’m in! Thanks Luis!!

-------------------------

tony007 | 2022-03-27 15:26:52 UTC | #62

@diegop Hello, I would like to ask, if I want to be a difinity network node, where can I get the deployment program of the node

-------------------------

daijianlin | 2022-04-08 14:27:56 UTC | #63

@diegop Have time to answer or not? You may just ignore the question? lol...

-------------------------

daijianlin | 2022-04-08 14:30:42 UTC | #64

Can you share this kind of roadmap with the #ICP community? or maybe just provide an updated version here?

-------------------------

Sigmax | 2022-04-17 17:32:45 UTC | #65

What do you guys think about putting some of the node machines on satellites? That way we can even decentralize the telecommunication services. In the future, when telecommunication is further merged with computing, IC would be much more powerful than our current imagination.

-------------------------

Ozkangurhan | 2022-04-17 18:56:12 UTC | #67

 Check https://spacechain.com/space-node/

-------------------------

Luis | 2022-04-28 12:41:36 UTC | #68

[quote="samuelburri, post:27, topic:9170"]
**(M1) Decentralized node deployments:** This milestone subsumes the first short-term items and enables node providers to independently onboard and deploy their nodes.
[/quote]

Dear Node Provider Community. 

I'm happy to update you about our progress on the M1 milestone of the IC platform decentralization roadmap.
 
We published a [wiki article describing the current decentralized onboarding process for node providers](https://wiki.internetcomputer.org/wiki/Node_Provider_Onboarding) and asked an existing node provider in the US to onboard himself once again to verify that this process is working for external parties too. As we explained before, the first generation of node providers was onboarded by us. **You will see the corresponding proposals in the NNS in the next few days.** Just be aware that this isn't actually a new node provider and therefore all changes will be reverted once the verification is done. 
We also implemented a CI job that checks that this process is working with every change on depending components and that's almost every component of the IC :) 
The instructions show a lot of potential for improvements and there will be a lot of changes to that process in the next months. We are already working on adapting the process to the new node remuneration process that only considers contributing nodes instead of the full node allowance of a node operator. 
We are also working on implementing the onboarding process to the NNS Frontend Dapp to provide a UI supported onboarding process for node providers. This will include some simplifications like creating node operators without the need of a proposal. 
The first parts are planned to be rolled out by latest end of June. The full feature coverage is currently planned for end of Q322. 

Another huge effort is the decentralisation of the datacenter setup. The same node provider that is running the verification that I previously explained will also doing the first acceptance test for the new data center setup instructions. The requirements listed in the instructions above already give a hint how trivial our datacenter setup is planned to be in the future. We really minimized to the max. All the equipment that we needed since launch to gather metrics in order to improve the protocol isn't needed anymore. The acceptance test that this node provider will run is to verify that the instructions are allowing the removal of the equipment in order to reduce the setup to what's needed in the future.
**In the next days you will see many proposals in the NNS replacing and removing of all nodes in TP1 (Tampa) in preparation for this acceptance tests.**     

What's next? 

Assuming that all acceptance tests passed we are going to notify all existing node provider that haven't onboarded their nodes yet (~800 nodes) and ask them to follow the corresponding documentation. Depending on the progress we will use new data centers to replace old data centers in order to get them redeployed in the same decentralized way. We are assuming that this will take the rest of the year and will end with ~1300 nodes running in the IC.  
Somewhere in the next months we would like to announce the specification for the node type supporting AMD Milan to ensure that the network is growing with nodes supporting SEV-SNP attestation. 

I was asked to build up a DeSRE team (Decentralized Site Reliability Engineering Team). This was never done before and I'm super excited that I got the chance to work on that. There will be a separate post about this but in short this means that we are planning to decentralize the way the IC is currently maintained. Not on the governance layer, that's decentralized since launch, but from the operational side.

-------------------------

lastmjs | 2022-04-29 21:09:51 UTC | #69

Umm...this is extremely exciting. Congratulations and thanks for all of the hard work on this.

-------------------------

Sormarler | 2022-04-30 08:36:34 UTC | #70

This is really great news that go under the radar. I can't wait to see what the IC is like with 1300 nodes.

-------------------------

JaMarco | 2022-04-30 09:17:42 UTC | #71

[quote="Luis, post:68, topic:9170"]
Assuming that all acceptance tests passed we are going to notify all existing node provider that haven’t onboarded their nodes yet (~800 nodes) and ask them to follow the corresponding documentation. Depending on the progress we will use new data centers to replace old data centers in order to get them redeployed in the same decentralized way. We are assuming that this will take the rest of the year and will end with ~1300 nodes running in the IC
[/quote]

Is the IC getting enough usage to support that many nodes? Is there any concern about the amount of rewards that would have to be paid to all those nodes if there is not enough cycles being burnt?

-------------------------

diegop | 2022-04-30 16:37:30 UTC | #72

[quote="JaMarco, post:71, topic:9170"]
Is there any concern about the amount of rewards that would have to be paid to all those nodes if there is not enough cycles being burnt?
[/quote]

I can help here.

I am working with a research scientist on An analysis of this question and a post to show some concrete numbers, but the short version is that node provider rewards are a tiny percentage of rewards created (2% of rewards created total, NNS rewards are 98%). Therefore, we believe it makes sense to grow the infrastructure and node provider layer for now to grow in testing, resiliency and decentralization… but this is a short term thing, of course. It would not make sense to add 1 million nodes tomorrow for “resiliency” and pay that many nodes. We do believe it’s prudent to go to 1300 nodes and more, but ultimately of course the community will decide. If node providers rewards get too high, community could vote to not add more node providers.

I hope to have that post public next week.

-------------------------

diegop | 2022-04-30 19:01:24 UTC | #74

Dear @808mafia,

This topic is on infrastructure layer of the IC. As the creator of this thread, I ask you please stay on topic. I hope my directness does not come off as rude, but I have to play the “direct guy” role in the forum to make sure the conversation stays at the technical level.

-------------------------

darien | 2022-04-30 20:54:19 UTC | #76

hey…relax it’s the weekend…take it easy…what ever fuck up ( or maybe not) you think you made is already done. Just take your Girlfriend or Boyfriend out for a drink, get a massage or something. stop watching CMC. you are not going to influence anybody in this forum. Smart people hang around here :)

-------------------------

agsaiz | 2022-04-30 21:09:24 UTC | #77

Marvellous!! Thanks for your hard work Luís and team! 🤝

-------------------------

atomikm | 2022-04-30 21:15:39 UTC | #78

You guys are killing it. Decentralizing the onboarding process is the key to shutting down any concerns of node centralization. 

Really proud of the work you guys are putting in. Can’t wait to spin up a node of my own one day :slight_smile:

-------------------------

god | 2022-04-30 21:31:57 UTC | #79

1. How much ICP does each node get paid on average? 
2. What is an expected cost to run an IC node?
3. Are nodes in countries like US awarded more than nodes located in places like Indonesia? I ask this because operations costs can differ greatly depending on location i.e. exchange rates risks, utility costs, hardware etc

I'm asking because i'm interested in running some at facilities in my region (currently a region with no nodes)

-------------------------

god | 2022-04-30 21:32:36 UTC | #80

1. How much ICP does each node get paid on average?
2. What is an expected cost to run an IC node?
3. Are nodes in countries like US awarded more than nodes located in places like Indonesia? I ask this because operations costs can differ greatly depending on location i.e. exchange rates risks, utility costs, hardware etc

I’m asking because i’m interested in running some at facilities in my region (currently a region with no nodes)

-------------------------

AnonymousCoder | 2022-04-30 22:26:48 UTC | #82

When you remove yourself from this forum. So... do you REALLY want it to go up?

-------------------------

llbrunoll | 2022-05-01 01:37:23 UTC | #83

[quote="Luis, post:68, topic:9170"]
wiki article describing the current decentralized onboarding process for node providers
[/quote]

Super exciting! (and kind of 'under the radar') . Great to follow your explanations, and thank you for the careful effort you put in to inform the community about node deployment/dev. 
Cheers!

-------------------------

jzxchiang | 2022-05-02 06:20:41 UTC | #84

> I was asked to build up a DeSRE team (Decentralized Site Reliability Engineering Team). This was never done before and I’m super excited that I got the chance to work on that.

Very much looking forward to hearing your thoughts and plans on this front!

-----

On a higher level, can you explain again the reasoning behind the distinction between data center operators and node operators? Isn't the data center operator responsible for operating all the nodes in their data center?

Also, is it correct to say that most data center operators also register as node providers? I can't imagine why someone would operate a data center without receiving ICP remuneration from the NNS (unless they directly charge the node providers who do).

-------------------------

mparikh | 2022-05-02 06:32:17 UTC | #85

Typically data center operators are a much larger concerns (10k-100k physical servers) that provide physical infrastructure to node providers....physical infrastructure such as land, building, physical security,  power , back up power, some amount of isolation (cages in which indvidual node providers of different types of nodes can put their own servers).

Most data center providers (such as vantage for example) would NOT register as node providers. They rent the capabilities to node providers & the IC node providers in turn get ICP to pay the data center providers. 

It is true that the data center operators need to provide certain guarantees to node providers (in terms of certifications) which the node providers use as basis to provide the nodes on top of the capabilities provided by data centers.

-------------------------

Luis | 2022-05-02 08:27:33 UTC | #86

[quote="jzxchiang, post:84, topic:9170"]
On a higher level, can you explain again the reasoning behind the distinction between data center operators and node operators? Isn’t the data center operator responsible for operating all the nodes in their data center?
[/quote]

"Datacenter Operator" isn't a entity that is relevant to the decentralisation of the IC. Sometimes they are also called "Remote Hands". Both describes an entity that has physical access to the nodes. This can be the node provider itself or a company, mostly data center provider, the node provider contracted with. 

[quote="jzxchiang, post:84, topic:9170"]
Also, is it correct to say that most data center operators also register as node providers?
[/quote]

Node provider are sometimes their own datacenter operators. Sometimes they pay the remote hands at the data center they contracted with.

-------------------------

mparikh | 2022-05-02 08:32:21 UTC | #87

Cross posted from the other thread, as these queries are more appropriate here:

(i) If we had already purchased the capabilities of 1300 nodes, why didn’t we deploy all 1300 nodes? Seems a waste of tremendous money ; given that we provided generous rewards for nodes to essentially do nothing for a year. Specifically what does it mean for "the nodes to exist "? That they are simply racked in the data center, not powered on?

(ii) Now that we are onboarding the legacy 800 nodes, i am assuming that they will NOT be conforming to AMD-Milan. So when we say "[quote=“Luis, post:68, topic:9170”]
to ensure that the network is growing with nodes supporting SEV-SNP attestation.
[/quote] ", are we to presume that that growth will be in addition to 1300 nodes?

(iii)For how long are we liable for the cost of first generation nodes? These are the MOST expensive (counter to Moore’s law). Is there a plan to phase them out? Given Moore’s law, we should be replacing these nodes with next generation nodes

-------------------------

Luis | 2022-05-02 08:33:57 UTC | #88

[quote="mparikh, post:85, topic:9170"]
It is true that the data center operators need to provide certain guarantees to node providers (in terms of certifications) which the node providers use as basis to provide the nodes on top of the capabilities provided by data centers.
[/quote]

The first data centers were asked to have certain certifications. I personally would like to discuss with the NP community which certification could make sense and drop all prerequisites until there is a need for.

-------------------------

mparikh | 2022-05-02 08:46:22 UTC | #89

This should NOT be a question only for the NP (node providers) but also for the NNS.

 I say this because the community needs to weigh in in what they would be comfortable in in context of the defi explosion that is about to hit icp-btc integration.

We expect NPs to behave within specific operational  , security and performance envelopes. They in turn rely on data centers to provide some of that basis. So i think having a complete transparent idea about how we expect node providers to behave as well as provide service could be a good start.

-------------------------

Luis | 2022-05-02 08:56:01 UTC | #90

[quote="mparikh, post:87, topic:9170"]
(i) If we had already purchased the capabilities of 1300 nodes, why didn’t we deploy all 1300 nodes? Seems a waste of tremendous money ; given that we provided generous rewards for nodes to essentially do nothing for a year. Specifically what does it mean for "the nodes to exist "? That they are simply racked in the data center, not powered on?
[/quote]

All nodes were purchased and shipped. The onboarding on the nodes was supported by our platform ops team. The was no need to for 1300 nodes from launch on. We have nodes that are contributing, nodes that are ready to be onboarded and datacenters were nodes were racked but not deployed yet. The nodes are moving from one state to the next depending on the needs of the network. 
It perhaps sounds like a lot payed but unused nodes were avoidable but reality is a bit more complex. If you already tried to roll out 1300 nodes in 70 datacenters within a year including contracting and purchasing, and that in a decentralized way, you know that this already very ambitious. On the end it took almost 18 months. Including everything that is needed to grow from there. 

[quote="mparikh, post:87, topic:9170"]
(ii) Now that we are onboarding the legacy 800 nodes, i am assuming that they will NOT be conforming to AMD-Milan. So when we say "[quote=“Luis, post:68, topic:9170”]
to ensure that the network is growing with nodes supporting SEV-SNP attestation.
[/quote] ", are we to presume that that growth will be in addition to 1300 nodes?
[/quote]

Correct. 

[quote="mparikh, post:87, topic:9170"]
(iii)For how long are we liable for the cost of first generation nodes? These are the MOST expensive (counter to Moore’s law). Is there a plan to phase them out? Given Moore’s law, we should be replacing these nodes with next generation nodes
[/quote]

Seeing the rising costs for new HW the new nodes could get more expensive than the previous models. There are no plans to replace old nodes. For sustainability reasons we would like to run them as long as possible. I think that the node rewards should allow the node providers to decide about the replacement. Rewards need to adapt to the performance of a node. Getting less rewards compared to new node types that perform better would allow node providers to decide about their break even depending on their amortisation and running costs.

-------------------------

mparikh | 2022-05-02 09:10:28 UTC | #91

[quote="Luis, post:90, topic:9170"]
Getting less rewards compared to new node types that perform better would allow node providers to decide about their break even depending on their amortisation and running costs.
[/quote]

The truth is that physical hardware assets are very difficult to justify to get off the books; if we are paying them a fixed price per month. I presume that we are paying the non-performing (non-active) nodes a fixed price because they are not even on-boarded yet. 

Again we have rewarded the first node providers with most generous rewards IN PERPETUTITY; if there is no plan to phase them out. In that case,  after the Amortization,  they could be milking these nodes for the next 20 years? Is that correct assessment?

-------------------------

bjoern | 2022-05-02 11:35:37 UTC | #92

[quote="mparikh, post:91, topic:9170"]
Again we have rewarded the first node providers with most generous rewards IN PERPETUTITY; if there is no plan to phase them out. In that case, after the Amortization, they could be milking these nodes for the next 20 years? Is that correct assessment?
[/quote]

Not quite. There are no guaranteed rewards. The NNS could, at any point in time, reduce the rewards. All it takes is a proposal (and probably a discussion around it).

-------------------------

AnonymousCoder | 2022-05-04 12:39:25 UTC | #93

[quote="mparikh, post:91, topic:9170"]
Again we have rewarded the first node providers with most generous rewards IN PERPETUTITY; if there is no plan to phase them out. In that case, after the Amortization, they could be milking these nodes for the next 20 years? Is that correct assessment?
[/quote]

Rewards go down based on how much hardware can bring in to the network. If you use old hardware (gen 1) when the current architecture is let's say gen3 already, you wont get enough rewards to justify running that old architecture (probably wont even cover electricity costs). That way, it will naturally make users either switch off their machines or upgrading to a newer architecture and better hardware.

-------------------------

Zane | 2022-05-04 13:22:06 UTC | #94

As far as I know that's not how it currently works, a subnet is as fast as 1/3 + 1 of the slowest nodes, so if majority of nodes are gen1, there would be no benefit in adding gen3 hardware,  there are also no mechanisms to punish underperforming nodes other than kicking the node from the subnet and it has to be done manually,  moving forward we might see gen1/3 only subnets so for the foreeseable future I think gen1 HW will be economically viable, the only way to eventually fase them out would be to lower rewards via NNS proposals, that is unless Dfinity adds new system to dynamically incentivate use of better HW and punish underperforming nodes.

-------------------------

justmythoughts | 2022-05-07 23:59:48 UTC | #95

@Luis 

Regarding proposal [58352](https://dashboard.internetcomputer.org/proposal/58352) and the link in that proposal to this post, since this proposal is to further decentralization it would be nice if dashboard links to the nodes being added/removed is included in the proposal in the future.

Something like...

Nodes Added:
- Ljubljana, Slovenia - [hmsvc-y55mm-klqar-q66iu-xk23o-zb3wd-alves-cutpx-fe625-5agfl-4ae](https://dashboard.internetcomputer.org/node/hmsvc-y55mm-klqar-q66iu-xk23o-zb3wd-alves-cutpx-fe625-5agfl-4ae)
- ...

If the general location of the nodes being added/removed are also included in the proposal body and links are provided, then its much easier for voters to verify the node changes and ensure that this isn't just adding more US nodes and deleting nodes in places they are needed.

By the way, I manually looked up the nodes being added/removed and looks great to me!

For those who are interested it removes 1 node in each of Las Vegas, Dallas, and Orlando, and adds 2 nodes in Maribor and one node in Ljubljana (both Slovenia)

-------------------------

MisterSignal | 2022-05-11 18:36:51 UTC | #96

@diegop It's worth noting here, and I am confident that this has come up in your internal discussions at DFINITY, that number of node providers is at best a necessary but not sufficient condition to achieve decentralization. 

In a resilient system, the nodes are orthogonal along several vectors (eg. political risk, legal risk, electrical grid risk, military risk, and so on.)

-------------------------

diegop | 2022-05-11 18:56:32 UTC | #97

You are 100% correct.

It is a core tenet of deterministic decentralization that it is not just about the nodes, but maximizing their decentralizaton across many vectors (jurisdictions, geography, owners, etc...).

I know the node team has on their backlog on adding a decentralization index per subnet so we can see decentralization improve as nodes from different locations, entities are added

-------------------------

bjoernek | 2022-06-07 08:25:56 UTC | #98

Hi all, we would let you know about a planned  **update to network economics**

* As part of the planned further automation of payouts of node provider rewards in June, we suggest tightening a network economics parameter to increase security.
* In particular, we suggest changing the security parameter which controls the maximum reward to a node provider in a single distribution event from 1mn ICP to 100k ICP.
* The choice for 100k ICP is motivated as follows: The maximum reward paid out to a single node provider in the first half of 2022 was 8.2k ICP in May. Thus, even if node providers add further nodes and taking into account fluctuations of the ICP/XDR exchange rate, we believe that 100k ICP should be a reasonable upper bound for the rest of 2022.
* Mid-term we should consider changing the upper bound to a XDR denominated parameter as node provider rewards are paid out in XDR.

Please let me know in case of any questions or comments.

-------------------------

paulyoung | 2022-06-09 15:23:41 UTC | #99

It would be great if there was a diff view for changes like this in the NNS so we could easily see what the old parameters were.

-------------------------

jzxchiang | 2022-06-09 22:10:36 UTC | #100

> * As part of the planned further automation of payouts of node provider rewards in June, we suggest tightening a network economics parameter to increase security.

How would a node provider "get past security" to receive so many rewards? Doesn't that indicate a flaw in the node provider onboarding process, or is this just defense in depth in preparation for the highly unlikely worst case scenario?

-------------------------

diegop | 2022-06-09 22:23:41 UTC | #101

It’s a defense in case something did go wrong unexpectedly. A safety net in case there is a bug.

-------------------------

dfisher | 2022-06-12 23:48:43 UTC | #102

Hi Bjoern,

As a node provider, I am of course sensitive to the survival of the IC and understand the desire to change the upper bound of node rewards if the price goes too low. 

All that said, NPs signed up taking on a great deal of risk with the assumption that they would not be rug pulled. Just like everyone else, NPs have lost money as the market has crashed. I have not sold a single ICP token and am WAY down on my investment just like everyone else. That’s not to mention the amount of time and effort that went into setting up the racks which is substantial. 

I believe it would only be fair to compensate NPs at a later date if caps are implemented today and token rewards are missed out on due to a declining token price. We all are sensitive to the prospect of a death spiral which is in no one’s interest. That said, if a cap is implemented the additional inflation should be awarded at a later date, perhaps over time in neurons etc. 

With seed investors, the DF didn’t say, woah, the price has gone up too much, we can’t give seed investors all those tokens they purchased. Why? Because that’s the deal they signed up to. 

Doing this is not only the right thing to do. It also makes sense from a security standpoint. It will be incredibly harmful to the security of the IC if NPs do feel the community is ready to rug pull them with no compensation at all. It’s important that NPs keep their machines on and future NPs are excited and confident their investment will be honored by the community. 

Let me know what you think. 

David

-------------------------

bjoernek | 2022-06-13 06:29:57 UTC | #103

Hi @dfisher, 

thank you for your note. 

I would like to  clarify that the proposed cap adjustment is of pure technical nature in the context of the automation of the payouts of the node provider rewards. It is a defence mechanism against potentially erroneous behaviour of the protocol. 

The proposal is not a change to the tokenomics of the IC (or a protection against inflation). This would be (as you already stated) a separate discussion. 

Kind regards

Bjoern

-------------------------

dfisher | 2022-06-13 13:49:28 UTC | #104

Ah got it !! Thanks for clarifying

-------------------------

Luis | 2022-06-28 16:39:07 UTC | #105

Dear Node Provider Community.

It’s about time for the next update on our platform decentralization roadmap. A few weeks ago we published the node deployment runbooks for the [Dell](https://wiki.internetcomputer.org/wiki/IC_OS_Installation_Runbook_-_Dell_Poweredge) and [Supermicro](https://wiki.internetcomputer.org/wiki/IC_OS_Installation_Runbook_-_Supermicro) nodes. In the upcoming 8-12 weeks the node providers will start redeploying their nodes with this process. **You will see many node replacement proposals freeing data centers in preparation of this redeployment.** Per data center we need 14 or 28 (depending on the data center size) proposals to add replacement nodes to the corresponding subnets, another 14 or 28 to remove the nodes from the corresponding subnets and one last proposal to remove all nodes of a DC from the inventory. That’s 29 or 57 proposals per data center that is going to be redeployed.
Quick reminder, since launch the node deployment procedure was as follows: (1) DFINITY pushed the latest binary to the node machines, (2) the node provider locked down the node, i.e. updates are only possible through the NNS, (3) the node provider initiates the key material generation. At launch this was the only deployment method available. In order to increase the platform decentralization node providers can now set up their nodes completely independently.

We are using this redeployment to also complete the storage upgrade of some nodes. Some data centers already have type 1 nodes, others still run type 0 nodes that need the storage upgrade from 3.2 TB to 32TB in order to become type 1 nodes.

First EU NP will be @awrelll 's data center in Bucharest (BU1). First US datacenter will be in Miami (MM1). First Asian data center will be in Singapore (SG1). The order afterwards is not determined yet and depends on how quickly the previous badge managed their redeployment.

What’s next?

As I promised in my previous status update we are almost done with the specification of the next node type. I’m expecting to get the specification published by the end of this week. The new node specification is now generic. The first three node types at launch were specified based on BOMs of Dell and Supermicro. This was necessary to avoid too much diversity on a platform that we first need to prove that it runs stable. We proved that and specifying a specific server model from a specific manufacturer adds a centralization that we now can remove.
The decentralized data center setup is also ready. This basically means that we will publish a node connectivity specification until the end of the week for new node providers and a migration runbook for existing node providers some weeks later. In addition we started working on a best practice white paper to allow node providers to access their nodes remotely and securely. Once the node providers rolled out that remote access we reached the milestone to implement decentralized SRE procedures. Stay tuned for more details on my next status update.

-------------------------

diegop | 2022-07-07 14:12:16 UTC | #106

Hey folks, you may all find this interesting:

https://forum.dfinity.org/t/draft-motion-proposal-new-hardware-specification-and-remuneration-for-ic-nodes/14202

-------------------------

