pietrodimarco | 2023-05-26 16:11:30 UTC | #1

Hello there!

we are happy to announce that voting is now open for [a new IC release ](https://github.com/dfinity/ic/tree/rc--2023-05-24_23-01).
The NNS proposal is here: [IC NNS Proposal 122617](https://dashboard.internetcomputer.org/proposal/122617).

Here is a summary of the changes since the last release:

* [[d6c6fce38](https://github.com/dfinity/ic/commit/d6c6fce38)] Consensus: feat: Add "halt_at_cup_height" to the registry proto.
* [[fda020e10](https://github.com/dfinity/ic/commit/fda020e10)] Consensus: fix(ecdsa): Do not drop complaints/openings for requested transcripts
* [[2dd02abd8](https://github.com/dfinity/ic/commit/2dd02abd8)] Crypto: chore: Removed unnecessary clone from multisig library
* [[256250495](https://github.com/dfinity/ic/commit/256250495)] Crypto: chore: add missing bench block for IDKG in Cargo.toml
* [[98b0e32de](https://github.com/dfinity/ic/commit/98b0e32de)] Message Routing: feat: Implement state splitting in State Manager
* [[428d1684b](https://github.com/dfinity/ic/commit/428d1684b)] Message Routing: feat: Implement state splitting in `state-tool`
* [[74bd7907d](https://github.com/dfinity/ic/commit/74bd7907d)] Message Routing: feat: Load and persist subnet split marker
* [[c2084a060](https://github.com/dfinity/ic/commit/c2084a060)] Networking/Node: feat: Add support for SEV chip id to ic-prep
* [[d5f6e4f9d](https://github.com/dfinity/ic/commit/d5f6e4f9d)] Networking: Peer Manager
* [[2ba13a820](https://github.com/dfinity/ic/commit/2ba13a820)] Networking: chore: Remove the NodeTopology from the replicated state
* [[7c844f930](https://github.com/dfinity/ic/commit/7c844f930)] Networking: chore: provide a single implementation of the ArtifactProcessor
* [[7a2967b4c](https://github.com/dfinity/ic/commit/7a2967b4c)] Networking: chore: unify the sync APIs to the networking adapters
* [[70cb5be64](https://github.com/dfinity/ic/commit/70cb5be64)] Networking: fix: exit the observability adapter when the grpc server is not running
* [[1c2a5ba31](https://github.com/dfinity/ic/commit/1c2a5ba31)] Node: Update IC-OS documentation
* [[4eed1e829](https://github.com/dfinity/ic/commit/4eed1e829)] Runtime: Terminate Sandbox Launcher on Replica exit
* [[19954a0c3](https://github.com/dfinity/ic/commit/19954a0c3)] Runtime: composite query: allow recursive calls
* Various tech-debt management: code refactoring, docs, bug fixes, test updates

# IC-OS Verification

To build and verify the IC-OS disk image, run:

```
# From https://github.com/dfinity/ic#building-the-code
# This process requires an x86-64 based machine, Ubuntu 20.04 or a newer version of the OS, Git, and Podman.
git clone https://github.com/dfinity/ic
cd ic
git fetch origin
git checkout 794fc5b9341fa8f6a0e8f219201c35f0b5727ab9
if ./gitlab-ci/container/build-ic.sh -i ; then
    curl -LO https://download.dfinity.systems/ic/794fc5b9341fa8f6a0e8f219201c35f0b5727ab9/guest-os/update-img/update-img.tar.gz
    shasum -a 256 artifacts/icos/guestos/update-img.tar.gz update-img.tar.gz
else
    echo "IC-OS build failed. Verification unsuccessful." >&2
fi
```

The two SHA256 sums printed above from a) the downloaded CDN image and b) the locally built image, must be identical, and must match the SHA256 from the payload of the NNS proposal.

-------------------------

Icdev2dev | 2023-05-26 20:14:25 UTC | #2

while the guest-os build checks out, I see that in the commit for "allow recursive calls", the changes are essentially just adding tests (and some removal) of code. Did I get that right?

-------------------------

Zane | 2023-05-26 20:21:04 UTC | #3

That's right, some of the removed code is what prevented recursive calls.

-------------------------

wpb | 2023-05-27 04:36:23 UTC | #4

I'd like to receive feedback on my findings.  I built this replica using the script in the proposal and received the "IC-OS build failed" output.  However, when I inspected the artifacts folder I noticed the expected artifacts were present.  I then ran the sha256 command and obtained a hash that matches the payload.  I also downloaded the image and received the same hash.  Hence, I can verify all the hashes we normally inspect do match.  I don't really understand why the original script resulted in a "Verification unsuccessful" message.  Does this cause concern for anyone?  @pietrodimarco @Zane @NathanosDev @Icdev2dev @Severin @andrewbattat 

![image|690x312](upload://yBV6dcoa39VYm7vA3n7pVhhXfOS.png)

-------------------------

Icdev2dev | 2023-05-27 04:21:43 UTC | #5

That's good feedback.  My automation swalled that exception!  Since the build itself was successful and produced the corect update artifact, it signaled a pass (and as a result,  i voted to approve). 

Any build failure is a matter of concern. Thanks for bringing it up! Next time, i will revert back to manual step.

-------------------------

NathanosDev | 2023-05-27 13:06:03 UTC | #6

In case it's helpful, my build logs that result in the script failing:

```
$ ./gitlab-ci/container/build-ic.sh -i

Building release revision (master or rc--*)! Use '--no-release' for non-release revision!

Validating build environment
Purging artifact directories
Building selected IC artifacts
Building by using a new container
No ssh-agent to forward.
+ sudo podman run --pids-limit=-1 -it --rm --privileged --network=host --cgroupns=host -w /ic -u 1000:1000 -e PATH=/ic/bin:/home/ubuntu/.cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin -e HOME=/home/nathan -e VERSION=b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf -e HOSTUSER=nathan --hostname=devenv-container --add-host devenv-container:127.0.0.1 --entrypoint= --init --mount type=bind,source=/home/nathan/programming/ic,target=/ic --mount type=bind,source=/var/lib/containers,target=/var/lib/containers --mount type=bind,source=/home/nathan,target=/home/nathan --mount type=tmpfs,destination=/var/sysimage -w /ic docker.io/dfinity/ic-build:18664c84cd0366f326435f38d003ec677ebab72241258c51b8146912b50b0f0a bash -c '    # build guestos images
    mkdir -p "artifacts/icos/guestos"
    bazel build --config=local --ic_version='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' --ic_version_rc_only='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' //ic-os/guestos/envs/prod
    bazel cquery --output=files //ic-os/guestos/envs/prod | xargs -I {} cp {} "artifacts/icos/guestos"
    # build hostos images
    mkdir -p "artifacts/icos/hostos"
    bazel build --config=local --ic_version='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' --ic_version_rc_only='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' //ic-os/hostos/envs/prod
    bazel cquery --output=files //ic-os/hostos/envs/prod | xargs -I {} cp {} "artifacts/icos/hostos"
    # build setupos images
    mkdir -p "artifacts/icos/setupos"
    bazel build --config=local --ic_version='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' --ic_version_rc_only='\''b8545d9f6efdbdf0c9e4752aadc89bce4c6f44bf'\'' //ic-os/setupos/envs/prod
    bazel cquery --output=files //ic-os/setupos/envs/prod | xargs -I {} cp {} "artifacts/icos/setupos"'
Starting local Bazel server and connecting to it...
INFO: Analyzed target //ic-os/guestos/envs/prod:prod (951 packages loaded, 28869 targets configured).
INFO: Found 1 target...
Target //ic-os/guestos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/guestos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/disk-img.tar.gz
  bazel-bin/ic-os/guestos/envs/prod/update-img.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/update-img.tar.gz
  bazel-bin/ic-os/guestos/envs/prod/update-img-test.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/update-img-test.tar.gz
INFO: Elapsed time: 23.159s, Critical Path: 9.72s
INFO: 3 processes: 1 internal, 2 linux-sandbox.
INFO: Build completed successfully, 3 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@1c243de5[status=PENDING, info=[delegate=[SettableFuture@5926b005[status=PENDING]]]]': No such file or directory
INFO: Build options --//bazel:ic_version and --//bazel:ic_version_rc_only have changed, discarding analysis cache.
INFO: Analyzed target //ic-os/hostos/envs/prod:prod (4 packages loaded, 6748 targets configured).
INFO: Found 1 target...
Target //ic-os/hostos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/hostos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/disk-img.tar.gz
  bazel-bin/ic-os/hostos/envs/prod/update-img.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/update-img.tar.gz
  bazel-bin/ic-os/hostos/envs/prod/update-img-test.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/update-img-test.tar.gz
INFO: Elapsed time: 17.276s, Critical Path: 16.55s
INFO: 2 processes: 1 internal, 1 linux-sandbox.
INFO: Build completed successfully, 2 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@2adbb657[status=PENDING, info=[delegate=[SettableFuture@241c5d7c[status=PENDING]]]]': No such file or directory
INFO: Build options --//bazel:ic_version and --//bazel:ic_version_rc_only have changed, discarding analysis cache.
INFO: Analyzed target //ic-os/setupos/envs/prod:prod (7 packages loaded, 33123 targets configured).
INFO: Found 1 target...
Target //ic-os/setupos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/setupos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/setupos/envs/prod/disk-img.tar.gz
INFO: Elapsed time: 16.432s, Critical Path: 13.87s
INFO: 3 processes: 1 internal, 2 linux-sandbox.
INFO: Build completed successfully, 3 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@1228743e[status=PENDING, info=[delegate=[SettableFuture@1cef980b[status=PENDING]]]]': No such file or directory
```

-------------------------

wpb | 2023-05-28 14:40:35 UTC | #7

Reviewers for the CodeGov project have completed our review of this replica update and our findings from this review can be viewed [in this post](https://dscvr.one/post/1197961714254565992/nns-proposal-122617) in the CodeGov portal on DSCVR.  The CodeGov neuron 2649066124191664356 has voted to adopt proposal 122617.

We are currently looking for additional reviewers.  If you are interested, then please Apply at codegov.org.  The current bounty for this work can always be found in [this post](https://dscvr.one/post/11096526/current-bounties-for-reviewers) in the CodeGov portal.

At the time of this comment on the forum, there are still 2 days left in the voting period.  We encourage people to review the replica update proposal and vote.

-------------------------

wpb | 2023-05-28 14:55:38 UTC | #8

I'm posting my build logs in full in two separate posts due to character limitations.  I hope it helps...

You will see that I ran the script in the proposal and it resulted in "IC-OS build failed. Verification unsuccessful."  However, when I inspected the artifacts I found the expected tar files and the sha256 hash matched the proposal payload and the downloaded tar file.  Hence, I voted to adopt this proposal.  

@pietrodimarco 
I would appreciate feedback from DFINITY if there is any reason why this is a poor decision so I can learn.  I can't really tell if there is a systematic error that would lead to this being a bad decision to adopt.  I believe our goal is to compare the hash outputs, which all check out.  Yet at the same time the script indicated a failure.  Part of me thinks we should have rejected this proposal because of the failure.

```
wpb@DESKTOP-MEAC80E:~$ git clone https://github.com/dfinity/ic
cd ic
git fetch origin
git checkout 794fc5b9341fa8f6a0e8f219201c35f0b5727ab9
if ./gitlab-ci/container/build-ic.sh -i ; then
    curl -LO https://download.dfinity.systems/ic/794fc5b9341fa8f6a0e8f219201c35f0b5727ab9/guest-os/update-img/update-img.tar.gz
    shasum -a 256 artifacts/icos/guestos/update-img.tar.gz update-img.tar.gz
else
    echo "IC-OS build failed. Verification unsuccessful." >&2
fi
fatal: destination path 'ic' already exists and is not an empty directory.
Previous HEAD position was b8545d9f6 Merge branch 'alexuta/rc--2023-05-24_23-01--file-backed-allocator' into 'rc--2023-05-24_23-01'
HEAD is now at 794fc5b93 Merge branch 'fix_upgrade_and_max_delay' into 'master'

Building release revision (master or rc--*)! Use '--no-release' for non-release revision!

Validating build environment
Purging artifact directories
Building selected IC artifacts
Building by using a new container
[sudo] password for wpb:
No ssh-agent to forward.
+ sudo podman run --pids-limit=-1 -it --rm --privileged --network=host --cgroupns=host -w /ic -u 1000:1000 -e PATH=/ic/bin:/home/ubuntu/.cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin -e HOME=/home/wpb -e VERSION=794fc5b9341fa8f6a0e8f219201c35f0b5727ab9 -e HOSTUSER=wpb --hostname=devenv-container --add-host devenv-container:127.0.0.1 --entrypoint= --init --mount type=bind,source=/home/wpb/ic,target=/ic --mount type=bind,source=/var/lib/containers,target=/var/lib/containers --mount type=bind,source=/home/wpb,target=/home/wpb --mount type=tmpfs,destination=/var/sysimage -w /ic docker.io/dfinity/ic-build:18664c84cd0366f326435f38d003ec677ebab72241258c51b8146912b50b0f0a bash -c '    # build guestos images
    mkdir -p "artifacts/icos/guestos"
    bazel build --config=local --ic_version='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' --ic_version_rc_only='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' //ic-os/guestos/envs/prod
    bazel cquery --output=files //ic-os/guestos/envs/prod | xargs -I {} cp {} "artifacts/icos/guestos"
    # build hostos images
    mkdir -p "artifacts/icos/hostos"
    bazel build --config=local --ic_version='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' --ic_version_rc_only='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' //ic-os/hostos/envs/prod
    bazel cquery --output=files //ic-os/hostos/envs/prod | xargs -I {} cp {} "artifacts/icos/hostos"
    # build setupos images
    mkdir -p "artifacts/icos/setupos"
    bazel build --config=local --ic_version='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' --ic_version_rc_only='\''794fc5b9341fa8f6a0e8f219201c35f0b5727ab9'\'' //ic-os/setupos/envs/prod
    bazel cquery --output=files //ic-os/setupos/envs/prod | xargs -I {} cp {} "artifacts/icos/setupos"'
Starting local Bazel server and connecting to it...
INFO: Analyzed target //ic-os/guestos/envs/prod:prod (951 packages loaded, 28869 targets configured).
INFO: Found 1 target...
INFO: From Action ic-os/guestos/envs/prod/partition-root-test-unsigned.tar:
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 3221225472
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 12288
    Label:
    Blocks: 786432
    Block groups: 24
    Reserved block group size: 191
Created filesystem with 32844/196608 inodes and 277336/786432 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test-unsigned.tar:
1b7b27f564997faf7a4bf1ada715cb8c414ce7ce982c0f74e2d9647fc3b1a58e  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test-unsigned.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test-unsigned.tar
  Size: 1092218880      Blocks: 2133248    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1083543     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:38.631274786 +0000
Modify: 2023-05-27 03:19:38.621274624 +0000
Change: 2023-05-27 03:19:38.621274624 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpuxmz08zo
Fix ownership of var/mail to 0:8
Fix ownership of var/local to 0:50
Fix ownership of var/log/journalbeat to 113:1003
Fix ownership of var/log/journal to 0:102
Fix ownership of var/log/chrony to 101:101
Fix ownership of var/log/wtmp to 0:43
Fix ownership of var/log/lastlog to 0:43
Fix ownership of var/log/btmp to 0:43
Fix ownership of var/lib/readonly to 111:65534
Fix ownership of var/lib/journalbeat to 113:1003
Fix ownership of var/lib/chrony to 101:101
Fix ownership of var/lib/backup to 34:34
Fix ownership of var/lib/admin to 112:50
Fix ownership of var/cache/apt/archives/partial to 100:0
Fix ownership of usr/sbin/unix_chkpwd to 0:42
Fix ownership of usr/sbin/pam_extrausers_chkpwd to 0:42
Fix ownership of usr/local/share/fonts to 0:50
Fix ownership of usr/local/lib/python3.8 to 0:50
Fix ownership of usr/local/lib/python3.8/dist-packages to 0:50
Fix ownership of usr/lib/dbus-1.0/dbus-daemon-launch-helper to 0:105
Fix ownership of usr/bin/wall to 0:5
Fix ownership of usr/bin/ssh-agent to 0:109
Fix ownership of usr/bin/expiry to 0:42
Fix ownership of usr/bin/chage to 0:42
Fix ownership of home/onchain-observability to 109:65534
Fix ownership of home/node_exporter to 114:65534
Fix ownership of home/journalbeat to 113:65534
Fix ownership of home/ic-http-adapter to 108:65534
Fix ownership of home/ic-csp-vault to 107:65534
Fix ownership of etc/shadow- to 0:42
Fix ownership of etc/shadow to 0:42
Fix ownership of etc/gshadow- to 0:42
Fix ownership of etc/gshadow to 0:42
INFO: From Action ic-os/guestos/envs/prod/partition-root-unsigned.tar:
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 3221225472
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 12288
    Label:
    Blocks: 786432
    Block groups: 24
    Reserved block group size: 191
Created filesystem with 32844/196608 inodes and 277336/786432 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-unsigned.tar:
4aaca3cc92c900c9d0c12daaf04b0b43749a3d43188d4853a5cf3b5fd05a6811  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-unsigned.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-unsigned.tar
  Size: 1092218880      Blocks: 2133248    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1259874     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:38.941279802 +0000
Modify: 2023-05-27 03:19:38.891278993 +0000
Change: 2023-05-27 03:19:38.891278993 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmp808ln7k6
Fix ownership of var/mail to 0:8
Fix ownership of var/local to 0:50
Fix ownership of var/log/journalbeat to 113:1003
Fix ownership of var/log/journal to 0:102
Fix ownership of var/log/chrony to 101:101
Fix ownership of var/log/wtmp to 0:43
Fix ownership of var/log/lastlog to 0:43
Fix ownership of var/log/btmp to 0:43
Fix ownership of var/lib/readonly to 111:65534
Fix ownership of var/lib/journalbeat to 113:1003
Fix ownership of var/lib/chrony to 101:101
Fix ownership of var/lib/backup to 34:34
Fix ownership of var/lib/admin to 112:50
Fix ownership of var/cache/apt/archives/partial to 100:0
Fix ownership of usr/sbin/unix_chkpwd to 0:42
Fix ownership of usr/sbin/pam_extrausers_chkpwd to 0:42
Fix ownership of usr/local/share/fonts to 0:50
Fix ownership of usr/local/lib/python3.8 to 0:50
Fix ownership of usr/local/lib/python3.8/dist-packages to 0:50
Fix ownership of usr/lib/dbus-1.0/dbus-daemon-launch-helper to 0:105
Fix ownership of usr/bin/wall to 0:5
Fix ownership of usr/bin/ssh-agent to 0:109
Fix ownership of usr/bin/expiry to 0:42
Fix ownership of usr/bin/chage to 0:42
Fix ownership of home/onchain-observability to 109:65534
Fix ownership of home/node_exporter to 114:65534
Fix ownership of home/journalbeat to 113:65534
Fix ownership of home/ic-http-adapter to 108:65534
Fix ownership of home/ic-csp-vault to 107:65534
Fix ownership of etc/shadow- to 0:42
Fix ownership of etc/shadow to 0:42
Fix ownership of etc/gshadow- to 0:42
Fix ownership of etc/gshadow to 0:42
INFO: From Executing genrule //ic-os/guestos/envs/prod:partition-root-test-sign:
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test.tar:
48cfccb4ae0da19311ecf1c2629c6eebf5d9175d5eb74f36a48d1ed28792880d  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root-test.tar
  Size: 1117593600      Blocks: 2182808    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1260842     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:50.843625280 +0000
Modify: 2023-05-27 03:19:50.833625151 +0000
Change: 2023-05-27 03:19:50.833625151 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmp_i2_j731
INFO: From Executing genrule //ic-os/guestos/envs/prod:partition-root-sign:
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root.tar:
8b120d30e920a723faaa333fe13c53feb39e4d43a44f52a3d9dd1dc330761913  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-root.tar
  Size: 1117593600      Blocks: 2182808    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1391303     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:51.043627863 +0000
Modify: 2023-05-27 03:19:51.033627734 +0000
Change: 2023-05-27 03:19:51.033627734 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpwgba62zo
INFO: From Action ic-os/guestos/envs/prod/partition-boot-test.tar:
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 1073741824
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 4096
    Label:
    Blocks: 262144
    Block groups: 8
    Reserved block group size: 63
Created filesystem with 24/65536 inodes and 15733/262144 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot-test.tar:
91106b0796850448f94d3597948a50ff6e6e8c3f01b41559d64a4e33b11e09b1  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot-test.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot-test.tar
  Size: 48732160        Blocks: 95184      IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1396648     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:56.203693294 +0000
Modify: 2023-05-27 03:19:56.193693178 +0000
Change: 2023-05-27 03:19:56.193693178 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpl2_rrrau
INFO: From Action ic-os/guestos/envs/prod/partition-boot.tar:
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 1073741824
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 4096
    Label:
    Blocks: 262144
    Block groups: 8
    Reserved block group size: 63
Created filesystem with 24/65536 inodes and 15733/262144 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot.tar:
ae91113725a17271a571e774a241b1fdc7ef700b81d08ad9e3038c44853cfcb1  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/partition-boot.tar
  Size: 48732160        Blocks: 95184      IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1573040     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:19:56.323694700 +0000
Modify: 2023-05-27 03:19:56.313694584 +0000
Change: 2023-05-27 03:19:56.313694584 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpy8qedplb
INFO: From Action ic-os/guestos/envs/prod/update-img.tar:
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img.tar:
c5bd8f82f13c0a2edb383e3b9c0c19cefca61865b72ebcacf8b6adc5109b53fa  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img.tar
  Size: 1166325760      Blocks: 2277992    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1609935     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:20:02.623768488 +0000
Modify: 2023-05-27 03:20:02.613768372 +0000
Change: 2023-05-27 03:20:02.613768372 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpietk6gvt
INFO: From Action ic-os/guestos/envs/prod/update-img-test.tar:
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img-test.tar:
fedde876d34455c1363e79e19b11dba33a6c30ff78c96f2f3ba884a39f5bd66e  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img-test.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img-test.tar
  Size: 1166325760      Blocks: 2277992    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1609881     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:20:02.693769310 +0000
Modify: 2023-05-27 03:20:02.683769191 +0000
Change: 2023-05-27 03:20:02.683769191 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpr89u34ng
INFO: From Action ic-os/guestos/envs/prod/disk-img.tar:
Checking that no-one is using this disk right now ... OK

Disk /var/sysimage/tmpd_og0buu/disk.img: 42.3 GiB, 45413826560 bytes, 88698880 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

>>> Script header accepted.
>>> Script header accepted.
>>> Created a new GPT disklabel (GUID: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428).
/var/sysimage/tmpd_og0buu/disk.img1: Created a new partition 1 of type 'EFI System' and of size 100 MiB.
/var/sysimage/tmpd_og0buu/disk.img2: Created a new partition 2 of type 'Linux filesystem' and of size 100 MiB.
/var/sysimage/tmpd_og0buu/disk.img3: Created a new partition 3 of type 'Linux filesystem' and of size 100 MiB.
/var/sysimage/tmpd_og0buu/disk.img4: Created a new partition 4 of type 'Linux filesystem' and of size 1 GiB.
/var/sysimage/tmpd_og0buu/disk.img5: Created a new partition 5 of type 'Linux filesystem' and of size 10 GiB.
/var/sysimage/tmpd_og0buu/disk.img6: Created a new partition 6 of type 'Linux filesystem' and of size 10 GiB.
/var/sysimage/tmpd_og0buu/disk.img7: Created a new partition 7 of type 'Linux filesystem' and of size 1 GiB.
/var/sysimage/tmpd_og0buu/disk.img8: Created a new partition 8 of type 'Linux filesystem' and of size 10 GiB.
/var/sysimage/tmpd_og0buu/disk.img9: Created a new partition 9 of type 'Linux filesystem' and of size 10 GiB.
/var/sysimage/tmpd_og0buu/disk.img10: Done.

New situation:
Disklabel type: gpt
Disk identifier: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428

Device                                 Start      End  Sectors  Size Type
/var/sysimage/tmpd_og0buu/disk.img1     2048   206847   204800  100M EFI System
/var/sysimage/tmpd_og0buu/disk.img2   206848   411647   204800  100M Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img3   411648   616447   204800  100M Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img4   616448  2713599  2097152    1G Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img5  2713600 23685119 20971520   10G Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img6 23685120 44656639 20971520   10G Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img7 44656640 46753791  2097152    1G Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img8 46753792 67725311 20971520   10G Linux filesystem
/var/sysimage/tmpd_og0buu/disk.img9 67725312 88696831 20971520   10G Linux filesystem

The partition table has been altered.
Syncing disks.
info for artifact: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/disk-img.tar:
450c69990564a0bb1565eaf9eb7ed0fc4bff29a88f8f1bc50dbd0e90a4c560fd  bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/disk-img.tar
  File: bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/disk-img.tar
  Size: 1181655040      Blocks: 2307928    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 1609930     Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:20:02.853771183 +0000
Modify: 2023-05-27 03:20:02.843771065 +0000
Change: 2023-05-27 03:20:02.843771065 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpd_og0buu
No partition file for 'var' found, leaving empty
INFO: From Action ic-os/guestos/envs/prod/update-img-test.tar.zst:
bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img-test.tar : 24.12%   (1166325760 => 281289223 bytes, bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img-test.tar.zst)
INFO: From Action ic-os/guestos/envs/prod/update-img.tar.zst:
bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img.tar : 24.12%   (1166325760 => 281289209 bytes, bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/update-img.tar.zst)
INFO: From Action ic-os/guestos/envs/prod/disk-img.tar.zst:
bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/disk-img.tar : 23.90%   (1181655040 => 282461359 bytes, bazel-out/k8-opt/bin/ic-os/guestos/envs/prod/disk-img.tar.zst)
Target //ic-os/guestos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/guestos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/disk-img.tar.gz
  bazel-bin/ic-os/guestos/envs/prod/update-img.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/update-img.tar.gz
  bazel-bin/ic-os/guestos/envs/prod/update-img-test.tar.zst
  bazel-bin/ic-os/guestos/envs/prod/update-img-test.tar.gz
INFO: Elapsed time: 474.852s, Critical Path: 439.57s
INFO: 165 processes: 2 internal, 145 linux-sandbox, 18 local.
INFO: Build completed successfully, 165 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@70b17e08[status=PENDING, info=[delegate=[SettableFuture@35b3fe7a[status=PENDING]]]]': No such file or directory

```

-------------------------

wpb | 2023-05-28 14:56:23 UTC | #9

This is the second half of my build logs...

```
INFO: Build options --//bazel:ic_version and --//bazel:ic_version_rc_only have changed, discarding analysis cache.
INFO: Analyzed target //ic-os/hostos/envs/prod:prod (4 packages loaded, 6748 targets configured).
INFO: Found 1 target...
INFO: From Action ic-os/hostos/envs/prod/partition-boot-test.tar:
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 104857600
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 6400
    Inode size: 256
    Journal blocks: 1024
    Label:
    Blocks: 25600
    Block groups: 1
    Reserved block group size: 7
Created filesystem with 24/6400 inodes and 8590/25600 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot-test.tar:
05f336d5c4f0d64080a5633ff842331138eb16f69c4575a968dfabac513f37e1  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot-test.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot-test.tar
  Size: 35194880        Blocks: 68744      IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790374      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:22:34.424031051 +0000
Modify: 2023-05-27 03:22:34.414030583 +0000
Change: 2023-05-27 03:22:34.414030583 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmp_3mibsbn
INFO: From Action ic-os/hostos/envs/prod/partition-boot.tar:
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 104857600
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 6400
    Inode size: 256
    Journal blocks: 1024
    Label:
    Blocks: 25600
    Block groups: 1
    Reserved block group size: 7
Created filesystem with 24/6400 inodes and 8590/25600 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot.tar:
2d8636c25adfdad6079cac61afe344098f082b0bc8f8853e9dac1583e954ae76  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-boot.tar
  Size: 35194880        Blocks: 68744      IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790371      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:22:34.424031051 +0000
Modify: 2023-05-27 03:22:34.414030583 +0000
Change: 2023-05-27 03:22:34.414030583 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpamoz_a8j
INFO: From Action ic-os/hostos/envs/prod/partition-root-unsigned.tar:
error: file_write: write: No space left on device
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
var/mail: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/local: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/journalbeat: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/journal: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/chrony: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/wtmp: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/lastlog: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/btmp: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/readonly: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/journalbeat: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/chrony: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/backup: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/admin: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu/channel: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu/channel/target: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/cache/libvirt/qemu: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/cache/apt/archives/partial: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 3221225472
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 12288
    Label:
    Blocks: 786432
    Block groups: 24
    Reserved block group size: 191
Created filesystem with 44076/196608 inodes and 551104/786432 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-unsigned.tar:
b0d4c9651b00392305fcfe8956951040e6e369ca1e61245161888ba3881fe899  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-unsigned.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-unsigned.tar
  Size: 1975336960      Blocks: 3858088    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790380      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:00.302005857 +0000
Modify: 2023-05-27 03:23:00.292005647 +0000
Change: 2023-05-27 03:23:00.292005647 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmp5vqi82w3
Fix ownership of var/mail to 0:8
Fix ownership of var/local to 0:50
Fix ownership of var/log/journalbeat to 112:1000
Fix ownership of var/log/journal to 0:102
Fix ownership of var/log/chrony to 101:101
Fix ownership of var/log/wtmp to 0:43
Fix ownership of var/log/lastlog to 0:43
Fix ownership of var/log/btmp to 0:43
Fix ownership of var/lib/readonly to 110:65534
Fix ownership of var/lib/journalbeat to 112:1000
Fix ownership of var/lib/chrony to 101:101
Fix ownership of var/lib/backup to 34:34
Fix ownership of var/lib/admin to 111:50
Fix ownership of var/lib/libvirt/qemu to 64055:64055
Fix ownership of var/lib/libvirt/qemu/channel to 64055:64055
Fix ownership of var/lib/libvirt/qemu/channel/target to 64055:64055
Fix ownership of var/cache/libvirt/qemu to 64055:64055
Fix ownership of var/cache/apt/archives/partial to 100:0
Fix ownership of usr/sbin/unix_chkpwd to 0:42
Fix ownership of usr/sbin/pam_extrausers_chkpwd to 0:42
Fix ownership of usr/local/share/fonts to 0:50
Fix ownership of usr/local/lib/python3.8 to 0:50
Fix ownership of usr/local/lib/python3.8/dist-packages to 0:50
Fix ownership of usr/lib/dbus-1.0/dbus-daemon-launch-helper to 0:105
Fix ownership of usr/bin/wall to 0:5
Fix ownership of usr/bin/ssh-agent to 0:110
Fix ownership of usr/bin/expiry to 0:42
Fix ownership of usr/bin/chage to 0:42
Fix ownership of home/node_exporter to 113:65534
Fix ownership of home/journalbeat to 112:65534
Fix ownership of etc/shadow- to 0:42
Fix ownership of etc/shadow to 0:42
Fix ownership of etc/gshadow- to 0:42
Fix ownership of etc/gshadow to 0:42
Fix ownership of etc/freeipmi/freeipmi.conf to 0:4
INFO: From Action ic-os/hostos/envs/prod/partition-root-test-unsigned.tar:
error: file_write: write: No space left on device
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
var/mail: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/local: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/journalbeat: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/journal: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/chrony: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/wtmp: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/lastlog: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/log/btmp: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/readonly: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/journalbeat: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/chrony: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/backup: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/admin: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu/channel: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/lib/libvirt/qemu/channel/target: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/cache/libvirt/qemu: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
var/cache/apt/archives/partial: EXT2 directory corrupted
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 3221225472
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8192
    Inode size: 256
    Journal blocks: 12288
    Label:
    Blocks: 786432
    Block groups: 24
    Reserved block group size: 191
Created filesystem with 44076/196608 inodes and 551104/786432 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-test-unsigned.tar:
ae487b7757c18ba81014dab3d51c584ed311328560cf9b075bace1f0c35cb56b  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-test-unsigned.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-root-test-unsigned.tar
  Size: 2055208960      Blocks: 4014088    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790383      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:00.642012958 +0000
Modify: 2023-05-27 03:23:00.632012748 +0000
Change: 2023-05-27 03:23:00.632012748 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpm00om6ad
Fix ownership of var/mail to 0:8
Fix ownership of var/local to 0:50
Fix ownership of var/log/journalbeat to 112:1000
Fix ownership of var/log/journal to 0:102
Fix ownership of var/log/chrony to 101:101
Fix ownership of var/log/wtmp to 0:43
Fix ownership of var/log/lastlog to 0:43
Fix ownership of var/log/btmp to 0:43
Fix ownership of var/lib/readonly to 110:65534
Fix ownership of var/lib/journalbeat to 112:1000
Fix ownership of var/lib/chrony to 101:101
Fix ownership of var/lib/backup to 34:34
Fix ownership of var/lib/admin to 111:50
Fix ownership of var/lib/libvirt/qemu to 64055:64055
Fix ownership of var/lib/libvirt/qemu/channel to 64055:64055
Fix ownership of var/lib/libvirt/qemu/channel/target to 64055:64055
Fix ownership of var/cache/libvirt/qemu to 64055:64055
Fix ownership of var/cache/apt/archives/partial to 100:0
Fix ownership of usr/sbin/unix_chkpwd to 0:42
Fix ownership of usr/sbin/pam_extrausers_chkpwd to 0:42
Fix ownership of usr/local/share/fonts to 0:50
Fix ownership of usr/local/lib/python3.8 to 0:50
Fix ownership of usr/local/lib/python3.8/dist-packages to 0:50
Fix ownership of usr/lib/dbus-1.0/dbus-daemon-launch-helper to 0:105
Fix ownership of usr/bin/wall to 0:5
Fix ownership of usr/bin/ssh-agent to 0:110
Fix ownership of usr/bin/expiry to 0:42
Fix ownership of usr/bin/chage to 0:42
Fix ownership of home/node_exporter to 113:65534
Fix ownership of home/journalbeat to 112:65534
Fix ownership of etc/shadow- to 0:42
Fix ownership of etc/shadow to 0:42
Fix ownership of etc/gshadow- to 0:42
Fix ownership of etc/gshadow to 0:42
Fix ownership of etc/freeipmi/freeipmi.conf to 0:4
INFO: From Action ic-os/hostos/envs/prod/partition-hostlvm.tar:
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-hostlvm.tar:
8e3400f68c3de69ada5dc0dfa7835b4442d0a5119d14647ff5f98c9c7b3ed51b  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-hostlvm.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/partition-hostlvm.tar
  Size: 2016419840      Blocks: 3938328    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 845594      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:23.217138286 +0000
Modify: 2023-05-27 03:23:22.477132941 +0000
Change: 2023-05-27 03:23:22.477132941 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpi12wk3me
No partition file for 'var' found, leaving empty
No partition file for 'guestos' found, leaving empty
INFO: From Action ic-os/hostos/envs/prod/update-img.tar:
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img.tar:
86c0842da3b229f6ac2874ff94671a961d72ecb0063208664dd3805c8a623b70  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img.tar
  Size: 2010531840      Blocks: 3926832    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 845760      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:27.576065061 +0000
Modify: 2023-05-27 03:23:27.546065816 +0000
Change: 2023-05-27 03:23:27.546065816 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpzsc4elld
INFO: From Action ic-os/hostos/envs/prod/update-img-test.tar:
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img-test.tar:
aac391f74f9c6eed831f5b3a47ebbdfae878ab59b2bf1b4253474b1e07a667b0  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img-test.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img-test.tar
  Size: 2090403840      Blocks: 4082832    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 845788      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:30.086001905 +0000
Modify: 2023-05-27 03:23:29.626013480 +0000
Change: 2023-05-27 03:23:29.626013480 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpupgeaul7
INFO: From Action ic-os/hostos/envs/prod/update-img.tar.zst:
bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img.tar : 22.18%   (2010531840 => 445903940 bytes, bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img.tar.zst)
INFO: From Action ic-os/hostos/envs/prod/disk-img.tar:
Checking that no-one is using this disk right now ... OK

Disk /var/sysimage/tmpa4mgsopx/disk.img: 100.2 GiB, 107585994752 bytes, 210128896 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

>>> Script header accepted.
>>> Script header accepted.
>>> Created a new GPT disklabel (GUID: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428).
/var/sysimage/tmpa4mgsopx/disk.img1: Created a new partition 1 of type 'EFI System' and of size 100 MiB.
/var/sysimage/tmpa4mgsopx/disk.img2: Created a new partition 2 of type 'Linux filesystem' and of size 100 MiB.
/var/sysimage/tmpa4mgsopx/disk.img3: Created a new partition 3 of type 'Linux filesystem' and of size 100 GiB.
/var/sysimage/tmpa4mgsopx/disk.img4: Done.

New situation:
Disklabel type: gpt
Disk identifier: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428

Device                               Start       End   Sectors  Size Type
/var/sysimage/tmpa4mgsopx/disk.img1   2048    206847    204800  100M EFI System
/var/sysimage/tmpa4mgsopx/disk.img2 206848    411647    204800  100M Linux filesystem
/var/sysimage/tmpa4mgsopx/disk.img3 411648 210126847 209715200  100G Linux filesystem

The partition table has been altered.
Syncing disks.
info for artifact: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/disk-img.tar:
87483b63c877e9de3c6c215c804829559455f6ea0f1b0f32257df335d9c8f9b0  bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/disk-img.tar
  File: bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/disk-img.tar
  Size: 2025861120      Blocks: 3956768    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 847147      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:23:52.787957058 +0000
Modify: 2023-05-27 03:23:52.777948802 +0000
Change: 2023-05-27 03:23:52.777948802 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpa4mgsopx
INFO: From Action ic-os/hostos/envs/prod/update-img-test.tar.zst:
bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img-test.tar : 21.47%   (2090403840 => 448775850 bytes, bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/update-img-test.tar.zst)
INFO: From Action ic-os/hostos/envs/prod/disk-img.tar.zst:
bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/disk-img.tar : 22.05%   (2025861120 => 446768954 bytes, bazel-out/k8-opt/bin/ic-os/hostos/envs/prod/disk-img.tar.zst)
Target //ic-os/hostos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/hostos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/disk-img.tar.gz
  bazel-bin/ic-os/hostos/envs/prod/update-img.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/update-img.tar.gz
  bazel-bin/ic-os/hostos/envs/prod/update-img-test.tar.zst
  bazel-bin/ic-os/hostos/envs/prod/update-img-test.tar.gz
INFO: Elapsed time: 138.394s, Critical Path: 137.54s
INFO: 18 processes: 2 internal, 1 linux-sandbox, 15 local.
INFO: Build completed successfully, 18 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@7fd881ff[status=PENDING, info=[delegate=[SettableFuture@711f7074[status=PENDING]]]]': No such file or directory
INFO: Build options --//bazel:ic_version and --//bazel:ic_version_rc_only have changed, discarding analysis cache.
INFO: Analyzed target //ic-os/setupos/envs/prod:prod (7 packages loaded, 33123 targets configured).
INFO: Found 1 target...
INFO: From Action ic-os/setupos/envs/prod/partition-boot.tar:
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 104857600
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 6400
    Inode size: 256
    Journal blocks: 1024
    Label:
    Blocks: 25600
    Block groups: 1
    Reserved block group size: 7
Created filesystem with 21/6400 inodes and 18670/25600 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-boot.tar:
a8437fcabe8b7288a5e7b8c5d5912ad1a148210afd7ff4c34b006459f4a6fc78  bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-boot.tar
  File: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-boot.tar
  Size: 76482560        Blocks: 149384     IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790368      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:26:34.010627536 +0000
Modify: 2023-05-27 03:26:34.000627834 +0000
Change: 2023-05-27 03:26:34.000627834 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmp31h04n89
INFO: From Action ic-os/setupos/envs/prod/partition-data.tar:
Creating filesystem with parameters:
    Size: 1835008000
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8000
    Inode size: 256
    Journal blocks: 7000
    Label:
    Blocks: 448000
    Block groups: 14
    Reserved block group size: 111
Created filesystem with 15/112000 inodes and 255695/448000 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-data.tar:
0658bf5ff5584ea32496082f0b17c39e57495ab2d7ee6a6eda234f3a6202c68c  bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-data.tar
  File: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-data.tar
  Size: 1018439680      Blocks: 1989152    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790412      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:26:41.930473224 +0000
Modify: 2023-05-27 03:26:41.920473388 +0000
Change: 2023-05-27 03:26:41.920473388 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpgdrtu740
INFO: From Action ic-os/setupos/envs/prod/partition-root-unsigned.tar:
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
debugfs 1.45.5 (07-Jan-2020)
Creating filesystem with parameters:
    Size: 1835008000
    Block size: 4096
    Blocks per group: 32768
    Inodes per group: 8000
    Inode size: 256
    Journal blocks: 7000
    Label:
    Blocks: 448000
    Block groups: 14
    Reserved block group size: 111
Created filesystem with 22635/112000 inodes and 356387/448000 blocks
info for artifact: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-root-unsigned.tar:
1ccaa03738769a18dd4b3c08f8c0dceaf9b37e83e72d908fd4abe29843d0e98c  bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-root-unsigned.tar
  File: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/partition-root-unsigned.tar
  Size: 1434972160      Blocks: 2802688    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790414      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:26:47.090695896 +0000
Modify: 2023-05-27 03:26:47.080696097 +0000
Change: 2023-05-27 03:26:47.080696097 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpqpobiecd
Fix ownership of var/mail to 0:8
Fix ownership of var/local to 0:50
Fix ownership of var/log/journal to 0:102
Fix ownership of var/log/wtmp to 0:43
Fix ownership of var/log/lastlog to 0:43
Fix ownership of var/log/btmp to 0:43
Fix ownership of var/cache/apt/archives/partial to 100:0
Fix ownership of usr/sbin/unix_chkpwd to 0:42
Fix ownership of usr/sbin/pam_extrausers_chkpwd to 0:42
Fix ownership of usr/local/lib/python3.8 to 0:50
Fix ownership of usr/local/lib/python3.8/dist-packages to 0:50
Fix ownership of usr/bin/wall to 0:5
Fix ownership of usr/bin/expiry to 0:42
Fix ownership of usr/bin/chage to 0:42
Fix ownership of etc/shadow- to 0:42
Fix ownership of etc/shadow to 0:42
Fix ownership of etc/gshadow- to 0:42
Fix ownership of etc/gshadow to 0:42
Fix ownership of etc/freeipmi/freeipmi.conf to 0:4
INFO: From Action ic-os/setupos/envs/prod/disk-img.tar:
Checking that no-one is using this disk right now ... OK

Disk /var/sysimage/tmpzdkq_osx/disk.img: 3.78 GiB, 4039114752 bytes, 7888896 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes

>>> Script header accepted.
>>> Script header accepted.
>>> Created a new GPT disklabel (GUID: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428).
/var/sysimage/tmpzdkq_osx/disk.img1: Created a new partition 1 of type 'EFI System' and of size 100 MiB.
/var/sysimage/tmpzdkq_osx/disk.img2: Created a new partition 2 of type 'Linux filesystem' and of size 100 MiB.
/var/sysimage/tmpzdkq_osx/disk.img3: Created a new partition 3 of type 'Microsoft basic data' and of size 50 MiB.
/var/sysimage/tmpzdkq_osx/disk.img4: Created a new partition 4 of type 'Linux filesystem' and of size 1.7 GiB.
/var/sysimage/tmpzdkq_osx/disk.img5: Created a new partition 5 of type 'Linux filesystem' and of size 100 MiB.
/var/sysimage/tmpzdkq_osx/disk.img6: Created a new partition 6 of type 'Linux filesystem' and of size 1.7 GiB.
/var/sysimage/tmpzdkq_osx/disk.img7: Done.

New situation:
Disklabel type: gpt
Disk identifier: 2B110BB7-CDEC-7D41-B97E-893EDCBE5428

Device                                Start     End Sectors  Size Type
/var/sysimage/tmpzdkq_osx/disk.img1    2048  206847  204800  100M EFI System
/var/sysimage/tmpzdkq_osx/disk.img2  206848  411647  204800  100M Linux filesystem
/var/sysimage/tmpzdkq_osx/disk.img3  411648  514047  102400   50M Microsoft basic data
/var/sysimage/tmpzdkq_osx/disk.img4  514048 4098047 3584000  1.7G Linux filesystem
/var/sysimage/tmpzdkq_osx/disk.img5 4098048 4302847  204800  100M Linux filesystem
/var/sysimage/tmpzdkq_osx/disk.img6 4302848 7886847 3584000  1.7G Linux filesystem

The partition table has been altered.
Syncing disks.
info for artifact: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/disk-img.tar:
601bddf4f86bfcf92bc8283592cca850ad29612309f19db523cd739dddfc19e7  bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/disk-img.tar
  File: bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/disk-img.tar
  Size: 2540134400      Blocks: 4961208    IO Block: 4096   regular file
Device: 820h/2080d      Inode: 790444      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/  ubuntu)   Gid: ( 1000/  ubuntu)
Access: 2023-05-27 03:27:01.702065602 +0000
Modify: 2023-05-27 03:27:01.692065745 +0000
Change: 2023-05-27 03:27:01.692065745 +0000
 Birth: -
get_tmpdir_checking_block_size: /var/sysimage/tmpzdkq_osx
INFO: From Action ic-os/setupos/envs/prod/disk-img.tar.zst:
bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/disk-img.tar : 53.23%   (2540134400 => 1352128522 bytes, bazel-out/k8-opt/bin/ic-os/setupos/envs/prod/disk-img.tar.zst)
Target //ic-os/setupos/envs/prod:prod up-to-date:
  bazel-bin/ic-os/setupos/envs/prod/disk-img.tar.zst
  bazel-bin/ic-os/setupos/envs/prod/disk-img.tar.gz
INFO: Elapsed time: 69.941s, Critical Path: 67.72s
INFO: 13 processes: 4 internal, 2 linux-sandbox, 7 local.
INFO: Build completed successfully, 13 total actions
cp: cannot stat 'WARNING: Failed to query remote execution capabilities: UNAVAILABLE: connection error: desc = transport: Error while dialing: dial tcp 10.11.10.124:443: i/o timeout': No such file or directory
cp: cannot stat 'ERROR: The Build Event Protocol upload timed out. com.google.common.util.concurrent.TimeoutFuture$TimeoutFutureException: Timed out: NonCancellationPropagatingFuture@3549c832[status=PENDING, info=[delegate=[SettableFuture@3b8e30eb[status=PENDING]]]]': No such file or directory
IC-OS build failed. Verification unsuccessful.
wpb@DESKTOP-MEAC80E:~/ic$ shasum -a 256 artifacts/icos/guestos/update-img.tar.gz update-img.tar.gz
a9831158f1b25fd62ca6253c4f14e90708df320f11783cde1ec4f571217c9d64  artifacts/icos/guestos/update-img.tar.gz
shasum: update-img.tar.gz: No such file or directory
wpb@DESKTOP-MEAC80E:~/ic$ curl -LO https://download.dfinity.systems/ic/794fc5b9341fa8f6a0e8f219201c35f0b5727ab9/guest-os/update-img/update-img.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  321M  100  321M    0     0  28.8M      0  0:00:11  0:00:11 --:--:-- 28.2M
wpb@DESKTOP-MEAC80E:~/ic$ shasum -a 256 artifacts/icos/guestos/update-img.tar.gz update-img.tar.gz
a9831158f1b25fd62ca6253c4f14e90708df320f11783cde1ec4f571217c9d64  artifacts/icos/guestos/update-img.tar.gz
a9831158f1b25fd62ca6253c4f14e90708df320f11783cde1ec4f571217c9d64  update-img.tar.gz
```

-------------------------

wpb | 2023-05-28 21:28:05 UTC | #10

I don't have another place to post this question since a forum post wasn't created for proposal 122603, which is for replica update [212f41b1f4d7e9b9f4f01a971d4710ce464e16b5](https://github.com/dfinity/ic/tree/rc--2023-05-18_23-01).  I noticed that DFINITY voted to [reject](https://dashboard.internetcomputer.org/proposal/122603) and I am very curious why.  The CodeGov project had several reviewers who performed the IC-OS Verification and that one passed in all cases.  Our reviews can be found here for [proposal 122603](https://dscvr.one/post/1197961714254565989/nns-proposal-122603).  It was the next two proposals ([122615](https://dscvr.one/post/1197961714254565991/nns-proposal-122615) and [122617](https://dscvr.one/post/1197961714254565992/nns-proposal-122617)) where the IC-OS verification started to fail.

-------------------------

sat | 2023-05-30 08:51:40 UTC | #11

Our IDX team responded that the bug in the tooling was introduced with 
https://github.com/dfinity/ic/commit/3695d96de813fe039ab0a533137ad3d5a55836f6
and is expected to be fixed in

https://github.com/dfinity/ic/commit/90a9d5ad4c0fe84ccd8d3be955cc87cde5b96c79

-------------------------

pietrodimarco | 2023-05-30 09:55:32 UTC | #12

Hey wpb,

Thank you for your question!

The proposal has been rejected because it is based on release [rc--2023-05-18_23-01](https://github.com/dfinity/ic/tree/rc--2023-05-18_23-01), which has already been rolled out to all subnets last week, and by the time of voting we already had a newer RC ready with the same experimental feature enabled so it wasn't necessary to have the older one as well. We could have kept and rolled out both but that would slightly increase the test space (instead of only upgrade from `old -> new` and `old -> new + feature`, we'd also have to test upgrade from `old + feature -> new + feature`).
The rollout of "experimental features" on the new RC will follow the regular rollout of [rc--2023-05-24_23-01](https://github.com/dfinity/ic/tree/rc--2023-05-24_23-01), and will be applied to a few subnets only.

You can find the accepted proposal which enables the file-backed allocator on few subnets, based on [rc--2023-05-24_23-01](https://github.com/dfinity/ic/tree/rc--2023-05-24_23-01), [here](https://dashboard.internetcomputer.org/proposal/122615).

Hope this answers your question but if it's still unclear, please don't hesitate to reach out.

Once again, thank you for your question and for being a part of our community.

-------------------------

andrewbattat | 2023-06-07 20:41:57 UTC | #13

Hello wpb!

Sorry for the late reply—I just saw this. The reason "IC-OS build failed. Verification unsuccessful." was printed was because `./gitlab-ci/container/build-ic.sh -i` exited with an error, even though it did in fact successfully build the image, as you yourself verified. So it was just a bug that appears to have been resolved.

We are currently working on cleaning up the instructions to verify IC-OS images, and also introducing a new script that will make it easier and more robust to verify IC-OS images. That should be out in a few weeks!

-------------------------

wpb | 2023-06-07 21:45:09 UTC | #14

Ok, that’s good to know.  Thanks!

-------------------------

