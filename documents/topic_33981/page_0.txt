Lorimer | 2024-08-07 17:42:52 UTC | #1



This topic is intended to capture Subnet Management activities over time for the [uzr34](https://dashboard.internetcomputer.org/subnet/uzr34-akd3s-xrdag-3ql62-ocgoh-ld2ao-tamcv-54e7j-krwgb-2gm4z-oqe) subnet, providing a place to ask questions and make observations about the management of this subnet.

At the time of creating this topic the current subnet configuration is as follows:

<details>
  <summary>Expand</summary>

```json
{
  "version": 44580,
  "records": [
    {
      "key": "subnet_record_uzr34-akd3s-xrdag-3ql62-ocgoh-ld2ao-tamcv-54e7j-krwgb-2gm4z-oqe",
      "version": 44580,
      "value": {
        "membership": [
          "mswad-oq7wj-5r4yy-b5qoy-cmv7z-wzfb3-ktn6l-rcnrz-mni2f-lsys6-wqe",
          "xu2zg-nns7x-z67l6-foa5w-yc4ek-addku-g2hqg-c3jdg-wabdu-5ouaw-yae",
          "v27at-hedf7-4a2my-tboq6-escdm-77krt-2qfuq-zjptf-z2sbk-vd7zs-xae",
          "vgfnl-4phvh-44pk3-yshmp-ckwz3-qnzob-l5wnj-pqn2j-vv5jh-3oewk-xqe",
          "xav3a-kdo3a-2rgbg-o6vnk-clat5-bcc7w-vmnej-z55rx-mfx26-7xugo-tqe",
          "67t6p-i4h3c-msv6p-kmbmm-rr6gj-z3nix-d6lo2-mq3q4-3h6rb-lwkbc-lae",
          "gtfa3-saq3t-ymlel-lsf6d-ans7b-cr45x-xg5np-xbxyt-nxfrt-iynyy-5qe",
          "zjiki-pzvnv-m4rnn-fodt3-poon4-uldx7-d3wkq-gptsu-g2mjs-boi35-3qe",
          "aajth-ndp7x-ro5ok-yikyd-4i7xn-5k5ki-e3d37-hh4gn-s4opz-bnzxf-4qe",
          "ysjs7-fe67q-k7pxe-g4puk-d5z7p-xrtg2-xqcmy-pmpoa-7bcfu-pmlqy-rae",
          "y7bml-csbq7-euzyf-njmvm-qfftp-iy7lc-wisaq-jlmul-sdo7p-7lkx4-3ae",
          "v2pkj-vpsow-fp24q-zqwfj-p3nek-m52xz-oz6ra-blmra-73voj-jvwb5-gae",
          "qp3lh-25yxy-dlk4t-ay73d-frr4t-3kmi5-35kqg-3vvbq-26qhh-6xrdr-oqe",
          "x3cey-uerdd-53a7n-d45e2-gjsnd-airg5-nrs5i-4xujk-c5ynl-4pie6-yqe",
          "6adxp-p7u63-xsdtk-lo6oc-vpqmi-44hgt-yv652-cbm5p-mssge-wsrz6-oqe",
          "xetvj-ysqpy-wnnd4-fbytw-n6arq-w7f5e-fhsuo-7xd67-lwpt2-novnx-iae",
          "w4ri3-ytfnq-jg3z3-qseka-se4xe-b2fl2-km766-ruzwd-riw72-6bifs-4ae",
          "wjwzb-q3ogf-fi3po-kf6y6-wzuuj-3ac3m-kjvab-fufsm-z2skq-kthkx-xae",
          "zgeaf-fcq4e-fcnht-g7mpg-sb7ff-r6awk-zvkwp-gkloc-rr6jl-ghsse-mqe",
          "ylm4h-mc2vy-vmwvf-g2qhn-36rbw-5cunq-wpj2j-ttofo-xc27c-vfdh7-aae",
          "z5a4h-43szy-vvp4j-xorii-l6yma-4iyzt-7o3ry-frvqe-azkit-5iag2-rqe",
          "yi6r6-u4kax-jphcr-jcqr5-t3zpm-gmp3b-2hiew-iinpf-sgjos-eabha-aqe",
          "uouxk-c246i-dgxzd-ql3a5-koofn-mclrv-toplo-bg76d-l4dzk-ngb3c-nae",
          "z4jw5-v4ee6-aa7gr-5axkc-4ocjy-v5vv5-inwc6-ma4hw-mb7jv-3skxy-eqe",
          "zgtrt-4vlgr-pbytl-t2yqq-qf4nk-wyoos-vrfpu-hxqcw-tcnfu-73kjb-pae",
          "go5zz-xs6yg-mylwl-v7uob-7bg4b-wjzhe-vmrwe-uy7mz-ckaz2-idm33-rqe",
          "ham46-r7u4j-yoyrk-mrnxu-utzq3-c37he-vcns2-gc5yg-jxyv5-mvlhc-gae",
          "v6caw-kf4b4-j22f5-pqsvj-hg7dj-wx4xx-y7urh-eixmh-hnvz7-hoe2v-jae"
        ],
        "nodes": {},
        "max_ingress_bytes_per_message": 3670016,
        "max_ingress_messages_per_block": 1000,
        "max_block_payload_size": 4194304,
        "unit_delay_millis": 3000,
        "initial_notary_delay_millis": 1000,
        "replica_version_id": "3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d",
        "dkg_interval_length": 499,
        "start_as_nns": false,
        "subnet_type": "system",
        "features": {
          "canister_sandboxing": false,
          "http_requests": true,
          "sev_enabled": false
        },
        "max_number_of_canisters": 120000,
        "ssh_readonly_access": [
          ""
        ],
        "ssh_backup_access": [
          "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEVcbYyW9CASaIa8wh07Dvm5dCeh0P/YgRP9Kwr38gB5 consensus@10.31.0.141",
          "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICsO2IEV96tOVfjoOj450TZr4MD8PauHqhcLYvrmRRue pfops@sf1-spm12",
          "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMz75Tyjsl6gxOJz0zHIvcQcMquIm7DHBB62ReJbRkk9 op@pyr07"
        ],
        "ecdsa_config": {
          "quadruples_to_create_in_advance": 1,
          "key_ids": [
            {
              "curve": "secp256k1",
              "name": "key_1"
            }
          ],
          "max_queue_size": 20,
          "signature_request_timeout_ns": 1800000000000,
          "idkg_key_rotation_period_ms": 1209600000
        },
        "chain_key_config": {
          "key_configs": [
            {
              "key_id": {
                "Ecdsa": {
                  "curve": "secp256k1",
                  "name": "key_1"
                }
              },
              "pre_signatures_to_create_in_advance": 1,
              "max_queue_size": 20
            },
            {
              "key_id": {
                "Schnorr": {
                  "algorithm": "bip340secp256k1",
                  "name": "key_1"
                }
              },
              "pre_signatures_to_create_in_advance": 1,
              "max_queue_size": 20
            },
            {
              "key_id": {
                "Schnorr": {
                  "algorithm": "ed25519",
                  "name": "key_1"
                }
              },
              "pre_signatures_to_create_in_advance": 1,
              "max_queue_size": 20
            }
          ],
          "signature_request_timeout_ns": 1800000000000,
          "idkg_key_rotation_period_ms": 1209600000
        }
      }
    }
  ]
}
```

</details>

-------------------------

Lorimer | 2024-08-07 18:01:14 UTC | #2

@andrea kindly provided a reference for the recent urz34 (II system subnet) proposals here -> [Subnet Management - pzp6e (Fiduciary) - Developers - Internet Computer Developer Forum (dfinity.org)](https://forum.dfinity.org/t/subnet-management-pzp6e-fiduciary/33664/3)

[quote="andrea, post:1, topic:33829"]
For the Schnorr keys, we are proposing to back them up on subnet `uzr34`, which has the same size as the fiduciary subnet and serves as backup subnet of the ECDSA production key. Note that the key backup process requires the backup subnet to pause while the key is being reshared. Since the proposed backup subnet hosts the II canister smart contract, this will not process new messages while the backup is in progress.

As this process is not yet fully automated, **it requires 3 NNS proposals** to be submitted, voted on, and executed in sequence. The result is downtime for the II subnet, estimated to be between 6-10 minutes
[/quote]

1. [Proposal: 131506 - ICP Dashboard (internetcomputer.org)](https://dashboard.internetcomputer.org/proposal/131506)
    - "Halt subnet uzr34 at the next CUP height and update ssh readonly access. This is the first proposal (out of three) for resharing the threshold Schnorr keys Bip340Secp256k1:key_1 and Ed25519:key_1 from subnet pzp6e to subnet uzr34." 


2. [Proposal: 131510 - ICP Dashboard (internetcomputer.org)](https://dashboard.internetcomputer.org/proposal/131510)
    - "Reshare the threshold Schnorr keys Bip340Secp256k1:key_1 and Ed25519:key_1 to subnet uzr34 **by updating its recovery CUP.** This is the second proposal (out of three) for resharing the threshold Schnorr keys Bip340Secp256k1:key_1 and Ed25519:key_1 from subnet pzp6e to subnet uzr34" 

3. [Proposal: 131511 - ICP Dashboard (internetcomputer.org)](https://dashboard.internetcomputer.org/proposal/131511)
   - "Unhalt subnet uzr34 and remove ssh readonly access. This is the third and last proposal for resharing the threshold Schnorr keys Bip340Secp256k1:key_1 and Ed25519:key_1 from subnet pzp6e to subnet uzr34"

I adopted the 1st and 3rd proposals, but rejected the update recovery CUP proposal, as [discussed here](https://forum.dfinity.org/t/subnet-management-fuqsr-application/33655/10). Nevertheless, I'm super excited to see these signature schemes used outside the context of the test key subnets ðŸš€

-------------------------

timk11 | 2024-08-16 13:11:35 UTC | #3

A proposed change to IC target topology that will affect this subnet has been announced in [this post](https://forum.dfinity.org/t/adjustment-of-ic-target-topology-to-increase-subnet-size-of-fiduciary-and-ii-subnets/34210).

-------------------------

